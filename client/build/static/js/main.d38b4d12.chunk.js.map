{"version":3,"sources":["redux/actions/notifyAction.js","pages/discover.js","pages/post/[id].js","redux/actions/messageAction.js","components/profile/EditProfile.js","components/profile/Followers.js","components/profile/Following.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","components/message/Times.js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","components/Avatar.js","components/LoadingLottie.js","redux/actions/profileAction.js","components/UserCard.js","images/pikachu.png","pages sync /^/.*$","../node_modules/peerjs/dist sync","components/alert/loading.js","components/alert/toast.js","components/alert/alert.js","components/NotifyModal.js","components/Header/menu.js","components/Header/Search.js","components/Header/Header.js","components/NotFound.js","customRouter/PageRender.js","components/StatusModal.js","customRouter/privateRouter.js","sounds/messenger.mp3","SocketClient.js","sounds/ring.mp3","components/message/CallModal.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/onlineReducer.js","redux/reducers/callReducer.js","redux/reducers/peerReducer.js","redux/reducers/index.js","redux/store.js","index.js","utils/mediaShow.js","redux/actions/globalTypes.js","utils/imageUpload.js","components/LoadMoreBtn.js","components/FollowBtn.js","utils/valid.js","redux/actions/authAction.js","redux/actions/suggestionAction.js","redux/actions/discoverAction.js","components/PostThumb.js","components/Icons.js","pages/message/index.js","utils/fetchData.js","pages/login.js","pages/register.js","components/home/Status.js","components/home/Posts.js","components/home/RightSideBar.js","pages/home.js","components/message/LeftSide.js","utils/config.js","components/home/post_card/CardHeader.js","components/Carousel.js","components/home/post_card/CardBody.js","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","redux/actions/commentAction.js","components/home/comments/CommentMenu.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/PostCard.js","redux/actions/postAction.js"],"names":["NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFIES","createNotify","msg","auth","socket","dispatch","a","postDataAPI","token","res","emit","data","notify","user","userName","avatar","type","GLOBALTYPES","ALERT","payload","error","response","removeNotify","deleteDataAPI","id","url","getNotifies","getDataAPI","notifies","isReadNotify","isRead","patchDataAPI","_id","deleteAllNotifies","Discover","useDispatch","useSelector","state","discover","useState","load","setLoad","handleLoadMore","page","DISCOVER_TYPES","UPDATE_POST","useEffect","firstLoad","getDiscoverPosts","loading","posts","result","Post","detailPost","post","setPost","useParams","getPost","length","newArr","filter","className","map","item","MESS_TYPES","ADD_USER","ADD_MESSAGE","GET_CONVERSATIONS","GET_MESSAGES","UPDATE_MESSAGES","DELETE_MESSAGES","DELETE_CONVERSATION","CHECK_USER_OFFLINE","addMessage","fullName","getConversations","conversations","forEach","recipients","cv","push","text","media","call","getMessages","newData","messages","reverse","loadMoreMessages","deleteMessages","deleteData","recipient","deleteConversation","EditProfile","setOnEdit","theme","mobile","website","story","gender","address","userData","setUserData","setAvatar","handleInput","e","target","name","value","onClick","onSubmit","preventDefault","updateUserProfile","src","URL","createObjectURL","alt","style","accept","onChange","file","files","err","checkImageUpload","htmlFor","width","top","right","transform","cols","rows","display","justifyContent","padding","margin","borderRadius","Followers","users","setShowFollowers","UserCard","FollowBtn","Following","setShowFollowing","Info","profile","onEdit","showFollowers","showFollowing","MODAL","index","Avatar","size","cursor","followers","following","email","href","rel","Posts","setPosts","setResult","setPage","PROFILE_TYPES","PostThumb","LoadingLottie","LoadMoreBtn","Saved","savePosts","setSavePosts","then","catch","Profile","saveTab","setSaveTab","ids","every","getProfileUsers","lottieDefaultOptions","loop","autoplay","animationData","loadingInstaLottie","rendererSettings","preserveAspectRatio","isStopped","isPaused","options","height","Times","total","parseInt","toString","MsgDisplay","window","confirm","match","videoShow","imageShow","background","fontSize","color","times","video","Date","toLocaleTimeString","createdAt","toLocaleString","RightSide","history","useHistory","message","peer","setUser","setText","refDisplay","useRef","pageEnd","setData","isLoadMore","setIsLoadMore","find","setTimeout","current","scrollIntoView","behavior","block","newUser","getMessagesData","setMedia","loadMedia","setLoadMedia","handleSubmit","trim","imageUpload","sender","toISOString","IntersectionObserver","entries","isIntersecting","p","threshold","observe","caller","CALL","callUser","open","peerId","customStyle","ref","marginTop","opacity","splice","handleDeleteMedia","placeholder","Icons","setContent","content","multiple","newMedia","disabled","Conversation","LeftSide","border","LOADING","GET_USER","FOLLOW","UNFOLLOW","GET_ID","GET_POSTS","res1","AUTH","success","follow","unfollow","children","handleClose","textDecoration","to","innerWidth","showMsg","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","webpackEmptyContext","Loading","Toast","handleShow","bgColor","minWidth","zIndex","title","outline","body","Alert","alert","pikachuImg","require","NotifyModal","handleSound","sound","localStorage","getItem","position","default","left","maxHeight","overflow","handleIsRead","slice","image","moment","fromNow","Menu","pathname","useLocation","isActive","pathName","label","icon","path","each","role","removeItem","setItem","THEME","logout","Search","search","setSearch","setUsers","toLowerCase","replace","Header","scrollTo","NotFound","minHeight","PageRender","pageInfo","React","createElement","generagePage","StatusModal","status","images","setImages","stream","setStream","videoRef","refCanvas","tracks","setTracks","updatePost","createPost","stop","STATUS","img","camera","newImagesArr","imageToBeRemoved","deleteImage","muted","autoPlay","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","navigator","mediaDevices","getUserMedia","mediaStream","srcObject","play","track","getTracks","console","log","newImages","PrivateRouter","props","SocketClient","online","audioRef","on","newPost","POST_TYPES","off","Notification","includes","ONLINE","OFFLINE","controls","messengerSound","CallModal","hours","setHours","mins","setMins","second","setSecond","setTotal","answer","setAnswer","youVideo","otherVideo","newCall","setNewCall","setTime","t","addCallMessage","useCallback","disconnect","timer","clearTimeout","close","handleEndCall","openStream","config","audio","playStream","tag","handleAnswer","remoteStream","removeListener","pauseAudio","newAudio","pause","currentTime","Audio","ring","playAudio","playsInline","App","modal","document","getElementById","checked","refreshToken","io","SOCKET","getPosts","getSuggestions","permission","requestPermission","newPeer","Peer","undefined","secure","PEER","exact","component","Home","Login","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","action","alertReducer","themeReducer","userPosts","profileReducer","editData","statusReducer","postReducer","CREATE_POST","LOADING_POSTS","DELETE_POST","modalReducer","detailPostReducer","GET_POST","discoverReducer","LOADING_DISCOVER","suggestionReducer","SUGGESTION_TYPES","GET_USERS","socketReducer","notifyReducer","resultUsers","resultData","messageReducer","onlineReducer","callReducer","peerReducer","combineReducers","homePosts","suggestion","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","ReactDOM","render","StrictMode","modifiedData","imgArr","formData","FormData","append","fetch","method","json","public_id","secure_url","followed","setFollowed","handleFollow","handleUnFollow","valid","password","username","confirmPassword","test","String","validateEmail","errMsg","errLength","login","access_token","register","check","location","types","fontWeight","likes","comments","Message","axios","get","headers","Authorization","patch","delete","typePass","setTypePass","handleChangeInput","paddingRight","class","selected","paddingLeft","Status","marginLeft","PostCard","RightSideBar","marginBottom","backgroundColor","wordBreak","scroll","addEventListener","pageYOffset","searchusers","setSearchUsers","handleSearch","handleAddUser","textIndent","BASE_URL","CardHeader","handleDeletePost","deletePost","handleCopyLink","clipboard","writeText","Carousel","setIsLike","loadLike","setLoadLike","handleLike","likePost","handleClick","detail","heart","classList","add","remove","like","alignItems","CardBody","readMore","setReadmore","LikeButton","isLike","handleUnLike","ShareModal","FacebookShareButton","FacebookIcon","round","LinkedinShareButton","LinkedinIcon","TwitterShareButton","TwitterIcon","RedditShareButton","RedditIcon","FacebookMessengerShareButton","FacebookMessengerIcon","WhatsappShareButton","WhatsappIcon","EmailShareButton","EmailIcon","CardFooter","isShare","setIsShare","loadSave","setLoadSave","saved","setSaved","unlikePost","handleSavePost","savePost","handleUnsavePost","unsavePost","createComment","newComment","postId","postUserId","reply","updateComment","comment","newComments","likeComment","unlikeComment","CommentMenu","MenuItem","handleRemove","deletedArr","cm","da","deleteComment","InputComment","onReply","setOnReply","createAt","commentId","CommentCard","handleUpdate","styleCard","pointerEvents","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newRep","imgNewUrl","imgOldUrl"],"mappings":"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AAGvU,IACpB2F,IAAG,qBAAgB9D,EAAK0S,OAAO,GAAGvU,KAClC4F,MAAO,CACLzD,OAAQmC,EAAQ,YAAc,eAIlC,qBACEkB,IAAK3D,EAAK0S,OAAO,GAAGvU,IACpB2F,IAAG,mBAAc9D,EAAK0S,OAAO,GAAGvU,KAChC4F,MAAO,CACLzD,OAAQmC,EAAQ,YAAc,eAIpC,sBAAKlC,UAAU,kBAAf,UACE,mBAAGA,UAAU,eAAb,SAA6BP,EAAK0e,MAAMte,SACxC,mBAAGG,UAAU,iBAAb,SAA+BP,EAAK2e,SAASve,gBArBxCJ,EAAKtB,Y,gCClB1B,uBAggDe8N,IA7/CD,SAAC,GAA6B,IAA3BE,EAA0B,EAA1BA,QAASD,EAAiB,EAAjBA,WAChBhK,EAAU3D,aAAY,SAACC,GAAD,OAAWA,KAAjC0D,MA29CR,OACE,sBACElC,UAAU,oBACVwD,MAAO,CACLqI,QAAS,EACT9L,OAAQmC,EAAQ,YAAc,aAJlC,UAOE,sBACElC,UAAU,kCACVrC,GAAG,iBACHkT,KAAK,SACL,cAAY,WACZ,gBAAc,OACd,gBAAc,QANhB,SAQE,sBAAMrN,MAAO,CAAEqI,QAAS,GAAK9L,OAAgB,aAA7C,4BAEF,qBAAKC,UAAU,gBAAgB,kBAAgB,iBAA/C,SACE,qBAAKA,UAAU,YAAf,SA7+CY,CAChB,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,6CACA,qBACA,qBACA,eACA,eACA,eACA,eACA,qBACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,eACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,eACA,eACA,eACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,eACA,iCACA,iCACA,qBACA,uCACA,uCACA,eACA,iCACA,iCACA,eACA,eACA,iCACA,iCACA,eACA,eACA,eACA,iCACA,iCACA,eACA,eACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,eACA,iCACA,iCACA,iCACA,eACA,eACA,eACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,eACA,qBACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,eACA,eACA,eACA,qBACA,uCACA,uCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,qBACA,uCACA,uCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,eACA,eACA,mDACA,eACA,eACA,eACA,eACA,qEACA,qEACA,qEACA,eACA,mDACA,mDACA,mDACA,eACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,iCACA,mDACA,iCACA,mDACA,mDACA,iCACA,mDACA,iCACA,mDACA,mDACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,iCACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,iCACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,qBACA,eACA,eACA,eACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,qBACA,qBACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,qBACA,eACA,qBACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,qBACA,eACA,SACA,SACA,SACA,SACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,SACA,eACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,qBACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,qBACA,eACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,qBACA,qBACA,qBACA,qBACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,qBACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,qBACA,qBACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,aACA,aACA,eACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,qBACA,eACA,eACA,eACA,eACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA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","file":"static/js/main.d38b4d12.chunk.js","sourcesContent":["import { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData';\r\nimport { GLOBALTYPES } from './globalTypes';\r\n\r\nexport const NOTIFY_TYPES = {\r\n  GET_NOTIFIES: 'GET_NOTIFIES',\r\n  CREATE_NOTIFY: 'CREATE_NOTIFY',\r\n  REMOVE_NOTIFY: 'REMOVE_NOTIFY',\r\n  UPDATE_NOTIFY: 'UPDATE_NOTIFY',\r\n  UPDATE_SOUND: 'UPDATE_SOUND',\r\n  DELETE_ALL_NOTIFIES: 'DELETE_ALL_NOTIFIES',\r\n};\r\nexport const createNotify =\r\n  ({ msg, auth, socket }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await postDataAPI('notify', msg, auth.token);\r\n      // socket\r\n      socket.emit('createNotify', {\r\n        ...res.data.notify,\r\n        user: {\r\n          userName: auth.user.userName,\r\n          avatar: auth.user.avatar,\r\n        },\r\n      });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const removeNotify =\r\n  ({ msg, auth, socket }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token);\r\n      //socket\r\n      socket.emit('removeNotify', msg);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const getNotifies = (token) => async (dispatch) => {\r\n  try {\r\n    const res = await getDataAPI('notifies', token);\r\n\r\n    dispatch({ type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies });\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\n\r\nexport const isReadNotify =\r\n  ({ msg, auth }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: { ...msg, isRead: true } });\r\n    try {\r\n      await patchDataAPI(`isReadNotify/${msg._id}`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\nexport const deleteAllNotifies = (token) => async (dispatch) => {\r\n  dispatch({ type: NOTIFY_TYPES.DELETE_ALL_NOTIFIES, payload: [] });\r\n  try {\r\n    await deleteDataAPI('deleteAllNotifies', token);\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { DISCOVER_TYPES, getDiscoverPosts } from '../redux/actions/discoverAction';\r\nimport LoadingLottie from '../components/LoadingLottie';\r\nimport PostThumb from '../components/PostThumb';\r\nimport LoadMoreBtn from '../components/LoadMoreBtn';\r\nimport { getDataAPI } from '../utils/fetchData';\r\n\r\nconst Discover = () => {\r\n  const dispatch = useDispatch();\r\n  const { auth, discover } = useSelector((state) => state);\r\n\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`post_discover?num=${discover.page * 9}`, auth.token);\r\n\r\n    dispatch({ type: DISCOVER_TYPES.UPDATE_POST, payload: res.data });\r\n    setLoad(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!discover.firstLoad) {\r\n      return dispatch(getDiscoverPosts({ auth }));\r\n    }\r\n  }, [dispatch, discover.firstLoad, auth]);\r\n\r\n  return (\r\n    <div>\r\n      {discover.loading ? (\r\n        <LoadingLottie />\r\n      ) : (\r\n        <>\r\n          <PostThumb posts={discover.posts} result={discover.result} />\r\n        </>\r\n      )}\r\n      {load && <LoadingLottie />}\r\n      {!discover.loading && (\r\n        <LoadMoreBtn\r\n          result={discover.result}\r\n          page={discover.page}\r\n          load={load}\r\n          handleLoadMore={handleLoadMore}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Discover;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getPost } from '../../redux/actions/postAction';\r\nimport LoadingLottie from '../../components/LoadingLottie';\r\nimport PostCard from '../../components/PostCard';\r\n\r\nconst Post = () => {\r\n  const dispatch = useDispatch();\r\n  //detail post acts like posts (array). but this array have only 1 post\r\n  const { auth, detailPost } = useSelector((state) => state);\r\n\r\n  const [post, setPost] = useState([]);\r\n\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    dispatch(getPost({ detailPost, id, auth }));\r\n    if (detailPost.length > 0) {\r\n      const newArr = detailPost.filter((post) => post._id === id);\r\n      setPost(newArr);\r\n    }\r\n  }, [id, detailPost, dispatch, auth]);\r\n\r\n  return (\r\n    <div className=\"posts\">\r\n      {post.length === 0 && <LoadingLottie />}\r\n      {post.length > 0 &&\r\n        post.map((item) => {\r\n          return <PostCard post={item} key={item._id} />;\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import { deleteDataAPI, getDataAPI, postDataAPI } from '../../utils/fetchData';\r\nimport { GLOBALTYPES, deleteData } from './globalTypes';\r\n\r\nexport const MESS_TYPES = {\r\n  ADD_USER: 'ADD_USER',\r\n  ADD_MESSAGE: 'ADD_MESSAGE',\r\n  GET_CONVERSATIONS: 'GET_CONVERSATIONS',\r\n  GET_MESSAGES: 'GET_MESSAGES',\r\n  UPDATE_MESSAGES: 'UPDATE_MESSAGES',\r\n  DELETE_MESSAGES: 'DELETE_MESSAGES',\r\n  DELETE_CONVERSATION: 'DELETE_CONVERSATION',\r\n  CHECK_USER_OFFLINE: 'CHECK_USER_OFFLINE',\r\n};\r\n\r\nexport const addMessage =\r\n  ({ msg, auth, socket }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: MESS_TYPES.ADD_MESSAGE, payload: msg });\r\n    const { _id, avatar, fullName, userName } = auth.user;\r\n    socket.emit('addMessage', { ...msg, user: { _id, avatar, fullName, userName } });\r\n    try {\r\n      await postDataAPI('message', msg, auth.token);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\nexport const getConversations =\r\n  ({ auth, page = 1 }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await getDataAPI(`conversations/?limit=${page}`, auth.token);\r\n      let newArr = [];\r\n      res.data.conversations.forEach((item) => {\r\n        item.recipients.forEach((cv) => {\r\n          if (cv._id !== auth.user._id) {\r\n            newArr.push({ ...cv, text: item.text, media: item.media, call: item.call });\r\n          }\r\n        });\r\n      });\r\n      dispatch({\r\n        type: MESS_TYPES.GET_CONVERSATIONS,\r\n        payload: { newArr, result: res.data.result },\r\n      });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\nexport const getMessages =\r\n  ({ auth, id, page = 1 }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await getDataAPI(`message/${id}/?limit=${page * 9}`, auth.token);\r\n      const newData = { ...res.data, messages: res.data.messages.reverse() };\r\n      dispatch({ type: MESS_TYPES.GET_MESSAGES, payload: { ...newData, _id: id, page } });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const loadMoreMessages =\r\n  ({ auth, id, page = 1 }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await getDataAPI(`message/${id}/?limit=${page * 9}`, auth.token);\r\n      const newData = { ...res.data, messages: res.data.messages.reverse() };\r\n      dispatch({ type: MESS_TYPES.UPDATE_MESSAGES, payload: { ...newData, _id: id, page } });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const deleteMessages =\r\n  ({ msg, data, auth }) =>\r\n  async (dispatch) => {\r\n    const newData = deleteData(data, msg._id);\r\n    dispatch({ type: MESS_TYPES.DELETE_MESSAGES, payload: { newData, _id: msg.recipient } });\r\n    try {\r\n      await deleteDataAPI(`message/${msg._id}`, auth.token);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const deleteConversation =\r\n  ({ auth, id }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      await deleteDataAPI(`conversation/${id}`, auth.token);\r\n      dispatch({ type: MESS_TYPES.DELETE_CONVERSATION, payload: id });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { checkImageUpload } from '../../utils/imageUpload';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { updateUserProfile } from '../../redux/actions/profileAction';\r\n\r\nconst EditProfile = ({ setOnEdit }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { auth, theme } = useSelector((state) => state);\r\n\r\n  const initState = { fullName: '', mobile: '', website: '', story: '', gender: '', address: '' };\r\n  const [userData, setUserData] = useState(initState);\r\n  const { fullName, mobile, website, story, gender, address } = userData;\r\n\r\n  useEffect(() => {\r\n    setUserData(auth.user);\r\n  }, [auth.user]);\r\n\r\n  const [avatar, setAvatar] = useState('');\r\n  const changeAvatar = (e) => {\r\n    const file = e.target.files[0];\r\n    const err = checkImageUpload(file);\r\n    if (err) {\r\n      return dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    }\r\n    setAvatar(file);\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(updateUserProfile({ userData, avatar, auth }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit_profile\">\r\n      <button className=\"btn btn-danger btn_close\" onClick={() => setOnEdit(false)}>\r\n        Close\r\n      </button>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"info_avatar\">\r\n          <img\r\n            src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar}\r\n            alt=\"user avatar\"\r\n            style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n          />\r\n          <span>\r\n            <i className=\"fa fa-camera\" />\r\n            <p>Change</p>\r\n            <input type=\"file\" name=\"file\" id=\"file_up\" accept=\"image/*\" onChange={changeAvatar} />\r\n          </span>\r\n        </div>\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"fullName\">Full Name</label>\r\n          <div className=\"position-relative\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form_control\"\r\n              id=\"fullName\"\r\n              name=\"fullName\"\r\n              value={fullName}\r\n              onChange={handleInput}\r\n              style={{ width: '100%' }}\r\n            />\r\n            <small\r\n              className=\"position-absolute text-danger\"\r\n              style={{ top: '50%', right: '5px', transform: 'translateY(-50%)' }}\r\n            >\r\n              {fullName.length}/20\r\n            </small>\r\n          </div>\r\n        </div>\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"mobile\">Mobile</label>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form_control\"\r\n            id=\"mobile\"\r\n            name=\"mobile\"\r\n            value={mobile}\r\n            onChange={handleInput}\r\n            style={{ width: '100%' }}\r\n          />\r\n        </div>\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"address\">Address</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form_control\"\r\n            id=\"address\"\r\n            name=\"address\"\r\n            value={address}\r\n            onChange={handleInput}\r\n            style={{ width: '100%' }}\r\n          />\r\n        </div>\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"website\">Website</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form_control\"\r\n            id=\"website\"\r\n            name=\"website\"\r\n            value={website}\r\n            onChange={handleInput}\r\n            style={{ width: '100%' }}\r\n          />\r\n        </div>\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"story\">Story</label>\r\n          <textarea\r\n            type=\"text\"\r\n            className=\"form_control\"\r\n            id=\"story\"\r\n            name=\"story\"\r\n            value={story}\r\n            onChange={handleInput}\r\n            style={{ width: '100%' }}\r\n            cols=\"30\"\r\n            rows=\"4\"\r\n          />\r\n          <small\r\n            className=\"text-danger\"\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'flex-end',\r\n              padding: 0,\r\n              margin: 0,\r\n              transform: 'translateY(-5px)',\r\n            }}\r\n          >\r\n            {story.length}/200\r\n          </small>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"gender\">Gender</label>\r\n          <div className=\"input-group-prepend px-0 mb-4\">\r\n            <select\r\n              name=\"gender\"\r\n              id=\"gender\"\r\n              className=\"custom-select text-capitalize\"\r\n              onChange={handleInput}\r\n              style={{ width: '100%' }}\r\n              value={gender}\r\n            >\r\n              <option value=\"male\">Male</option>\r\n              <option value=\"female\">Female</option>\r\n              <option value=\"others\">Others</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-info\"\r\n          style={{ width: '100%', borderRadius: '5px' }}\r\n        >\r\n          Save\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n","import React from 'react';\r\nimport UserCard from '../UserCard';\r\nimport { useSelector } from 'react-redux';\r\nimport FollowBtn from '../FollowBtn';\r\n\r\nconst Followers = ({ users, setShowFollowers }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"follow\">\r\n      <div className=\"follow-box\">\r\n        <h5>Followers</h5>\r\n        <br />\r\n        <div className=\"follow_content\">\r\n          {users &&\r\n            users.map((user) => {\r\n              return (\r\n                <div className=\"followers_user_card\" key={user._id}>\r\n                  <UserCard user={user} key={user._id} setShowFollowers={setShowFollowers}>\r\n                    {auth.user._id !== user._id && <FollowBtn user={user} />}\r\n                  </UserCard>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n\r\n        <div className=\"close\" onClick={() => setShowFollowers(false)}>\r\n          &times;\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Followers;\r\n","import React from 'react';\r\nimport UserCard from '../UserCard';\r\nimport { useSelector } from 'react-redux';\r\nimport FollowBtn from '../FollowBtn';\r\n\r\nconst Following = ({ users, setShowFollowing }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"follow\">\r\n      <div className=\"follow-box\">\r\n        <h5>Following</h5>\r\n        <br />\r\n        {users &&\r\n          users.map((user) => {\r\n            return (\r\n              <div className=\"followers_user_card\" key={user._id}>\r\n                <UserCard user={user} key={user._id} setShowFollowing={setShowFollowing}>\r\n                  {auth.user._id !== user._id && <FollowBtn user={user} />}\r\n                </UserCard>\r\n              </div>\r\n            );\r\n          })}\r\n        <div className=\"close\" onClick={() => setShowFollowing(false)}>\r\n          &times;\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Following;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Avatar from '../Avatar';\r\nimport EditProfile from './EditProfile';\r\nimport FollowBtn from '../FollowBtn';\r\nimport Followers from './Followers';\r\nimport Following from './Following';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\n\r\nconst Info = ({ id, auth, profile, dispatch }) => {\r\n  const [userData, setUserData] = useState([]);\r\n\r\n  const [onEdit, setOnEdit] = useState(false);\r\n\r\n  const [showFollowers, setShowFollowers] = useState(false);\r\n  const [showFollowing, setShowFollowing] = useState(false);\r\n  //if visit personal profile => set user via auth redux store\r\n  //if visit strangers' profile => get id from param =>\r\n  //loading:true\r\n  //fetch that user (NEED token for api call)\r\n  //set user as user fetched.\r\n  //loading false\r\n\r\n  useEffect(() => {\r\n    if (id === auth.user._id) {\r\n      setUserData([auth.user]);\r\n    } else {\r\n      const newData = profile.users.filter((user) => user._id === id);\r\n      setUserData(newData);\r\n    }\r\n  }, [id, auth, dispatch, profile.users]);\r\n\r\n  useEffect(() => {\r\n    if (showFollowers || showFollowing || onEdit) {\r\n      dispatch({ type: GLOBALTYPES.MODAL, payload: true });\r\n    } else {\r\n      dispatch({ type: GLOBALTYPES.MODAL, payload: false });\r\n    }\r\n  }, [showFollowing, showFollowers, onEdit, dispatch]);\r\n  return (\r\n    <div className=\"info\">\r\n      {userData.map((user, index) => {\r\n        return (\r\n          <div className=\"info_container\" key={index}>\r\n            <Avatar src={user.avatar} size=\"super-avatar\" />\r\n            <div className=\"info_content\">\r\n              <div className=\"info_content_title\">\r\n                <h2>{user.userName}</h2>\r\n                {user._id === auth.user._id ? (\r\n                  <button className=\"btn btn-outline-info\" onClick={() => setOnEdit(true)}>\r\n                    Edit Profile\r\n                  </button>\r\n                ) : (\r\n                  <FollowBtn user={user} />\r\n                )}\r\n              </div>\r\n              <div className=\"follow_btn\">\r\n                <span onClick={() => setShowFollowers(true)} style={{ cursor: 'pointer' }}>\r\n                  {user.followers.length} Followers\r\n                </span>\r\n                <span onClick={() => setShowFollowing(true)} style={{ cursor: 'pointer' }}>\r\n                  {user.following.length} Following\r\n                </span>\r\n              </div>\r\n              <h6>\r\n                {user.fullName} T: <span className=\"text-danger\">{user.mobile}</span>\r\n              </h6>\r\n              <p>{user.address}</p>\r\n              <h6>{user.email}</h6>\r\n              <a href={user.website} target=\"_blank\" rel=\"noreferrer\">\r\n                {user.website}\r\n              </a>\r\n              <p>{user.story}</p>\r\n            </div>\r\n\r\n            {onEdit && <EditProfile setOnEdit={setOnEdit} />}\r\n\r\n            {showFollowers && (\r\n              <Followers users={user.followers} setShowFollowers={setShowFollowers} />\r\n            )}\r\n            {showFollowing && (\r\n              <Following users={user.following} setShowFollowing={setShowFollowing} />\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React, { useState, useEffect } from 'react';\r\nimport LoadingLottie from '../LoadingLottie';\r\nimport LoadMoreBtn from '../LoadMoreBtn';\r\nimport PostThumb from '../PostThumb';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\nimport { PROFILE_TYPES } from '../../redux/actions/profileAction';\r\n\r\nconst Posts = ({ auth, profile, dispatch, id }) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`user_posts/${id}?limit=${page * 9}`, auth.token);\r\n    const newData = { ...res.data, page: page + 1, _id: id };\r\n    dispatch({ type: PROFILE_TYPES.UPDATE_POST, payload: newData });\r\n    setLoad(false);\r\n  };\r\n  useEffect(() => {\r\n    profile.posts.forEach((data) => {\r\n      if (data._id === id) {\r\n        setPosts(data.posts);\r\n        setResult(data.result);\r\n        setPage(data.page);\r\n      }\r\n    });\r\n  }, [profile.posts, id]);\r\n\r\n  return (\r\n    <div>\r\n      <PostThumb posts={posts} result={result} />\r\n      {load && <LoadingLottie />}\r\n\r\n      {!load && (\r\n        <LoadMoreBtn result={result} page={page} load={load} handleLoadMore={handleLoadMore} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\nimport LoadingLottie from '../LoadingLottie';\r\nimport LoadMoreBtn from '../LoadMoreBtn';\r\nimport PostThumb from '../PostThumb';\r\n\r\nconst Saved = ({ auth, dispatch }) => {\r\n  const [savePosts, setSavePosts] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [result, setResult] = useState(9);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token);\r\n    setSavePosts(res.data.savePosts);\r\n    setResult(res.data.result);\r\n    setPage(page + 1);\r\n    setLoad(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoad(true);\r\n    getDataAPI('getSavePosts', auth.token)\r\n      .then((res) => {\r\n        setSavePosts(res.data.savePosts);\r\n        setResult(res.data.result);\r\n        setLoad(false);\r\n      })\r\n      .catch((err) =>\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } })\r\n      );\r\n    return () => setSavePosts([]);\r\n  }, [dispatch, auth.token]);\r\n\r\n  return (\r\n    <div>\r\n      <PostThumb posts={savePosts} result={result} />\r\n      {load && <LoadingLottie />}\r\n      {!load && (\r\n        <LoadMoreBtn result={result} page={page} load={load} handleLoadMore={handleLoadMore} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Saved;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Info from '../../components/profile/Info';\r\nimport Posts from '../../components/profile/Posts';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Lottie from 'react-lottie';\r\nimport loadingInstaLottie from '../../components/lotties/15016-insta-anim.json';\r\nimport { getProfileUsers } from '../../redux/actions/profileAction';\r\nimport { useParams } from 'react-router-dom';\r\nimport Saved from '../../components/profile/Saved';\r\n\r\nconst Profile = () => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const { profile, auth, theme } = useSelector((state) => state);\r\n\r\n  const [saveTab, setSaveTab] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (profile.ids.every((item) => item !== id)) {\r\n      dispatch(getProfileUsers({ id, auth }));\r\n    }\r\n  }, [id, auth, dispatch, profile.ids]);\r\n\r\n  const lottieDefaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: loadingInstaLottie,\r\n    rendererSettings: {\r\n      preserveAspectRatio: 'xMidYMid slice',\r\n    },\r\n    isStopped: false,\r\n    isPaused: false,\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n\r\n      {auth.user._id === id && (\r\n        <div className=\"profile_tab\">\r\n          <button className={saveTab ? '' : 'active'} onClick={() => setSaveTab(false)}>\r\n            <i className=\"fa fa-th\" /> Posts\r\n          </button>\r\n          <button className={saveTab ? 'active' : ''} onClick={() => setSaveTab(true)}>\r\n            <i className=\"far fa-bookmark\" /> Saved\r\n          </button>\r\n        </div>\r\n      )}\r\n      {profile.loading ? (\r\n        <Lottie\r\n          style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n          options={lottieDefaultOptions}\r\n          height={200}\r\n          width={200}\r\n        />\r\n      ) : (\r\n        <>\r\n          {saveTab ? (\r\n            <Saved auth={auth} dispatch={dispatch} />\r\n          ) : (\r\n            <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\n\r\nconst Times = ({ total }) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        {parseInt(total / 3600).toString().length < 2\r\n          ? '0' + parseInt(total / 3600).toString()\r\n          : parseInt(total / 3600).toString()}\r\n      </span>\r\n      <span>:</span>\r\n      <span>\r\n        {parseInt(total / 60).toString().length < 2\r\n          ? '0' + parseInt(total / 60).toString()\r\n          : parseInt(total / 60).toString()}\r\n      </span>\r\n      <span>:</span>\r\n      <span>\r\n        {parseInt(total % 60).toString().length < 2\r\n          ? '0' + parseInt(total % 60).toString() + 's'\r\n          : parseInt(total % 60).toString() + 's'}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Times;\r\n","import React from 'react';\r\nimport Avatar from '../Avatar';\r\nimport { imageShow, videoShow } from '../../utils/mediaShow';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { deleteMessages } from '../../redux/actions/messageAction';\r\nimport Times from './Times';\r\n\r\nconst MsgDisplay = ({ user, msg, theme, data }) => {\r\n  const dispatch = useDispatch();\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  const handleDeleteMessage = () => {\r\n    if (!data) return;\r\n    if (data) {\r\n      if (window.confirm('Do you want to delete this message (permanently)?'))\r\n        dispatch(deleteMessages({ msg, data, auth }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"chat_title\">\r\n        <Avatar src={user.avatar} size=\"small-avatar\" />\r\n        <span>{user.userName}</span>\r\n      </div>\r\n      <div className=\"you_content\">\r\n        {user._id === auth.user._id && (\r\n          <i className=\"fas fa-trash text-danger\" onClick={() => handleDeleteMessage(msg)} />\r\n        )}\r\n        <div>\r\n          {msg.text && (\r\n            <div className=\"chat_text\" style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}>\r\n              {msg.text}\r\n            </div>\r\n          )}\r\n          {msg.media.map((item, index) => {\r\n            return (\r\n              <div key={index} id=\"file_media\">\r\n                {item.url.match(/video/i) ? videoShow(item.url, theme) : imageShow(item.url, theme)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {msg.call && (\r\n          <button\r\n            className=\"d-flex btn align-items-center py-3\"\r\n            style={{ background: '#eee', borderRadius: '10px' }}\r\n          >\r\n            <span\r\n              className=\"material-icons font-weight-bold mr-1\"\r\n              style={{\r\n                fontSize: '2.5rem',\r\n                color: msg.call.times === 0 ? 'crimson' : 'green',\r\n                filter: theme ? 'invert(1)' : 'invert(0)',\r\n              }}\r\n            >\r\n              {msg.call.times === 0\r\n                ? msg.call.video\r\n                  ? 'videocam_off'\r\n                  : 'phone_disabled'\r\n                : msg.call.video\r\n                ? 'video_camera_front'\r\n                : 'call'}\r\n            </span>\r\n            <div className=\"text-left\">\r\n              <h6>{msg.call.video ? 'Video Call' : 'Audio Call'}</h6>\r\n              <small>\r\n                {msg.call.times > 0 ? (\r\n                  <Times total={msg.call.times} />\r\n                ) : (\r\n                  new Date(msg.call.times).toLocaleTimeString()\r\n                )}\r\n              </small>\r\n            </div>\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div className=\"chat_time\">{new Date(msg.createdAt).toLocaleString()}</div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MsgDisplay;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport UserCard from '../UserCard';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport MsgDisplay from './MsgDisplay';\r\nimport '../../styles/message.css';\r\nimport Icons from '../Icons';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { imageShow, videoShow } from '../../utils/mediaShow';\r\nimport { imageUpload } from '../../utils/imageUpload';\r\nimport {\r\n  addMessage,\r\n  deleteConversation,\r\n  getMessages,\r\n  loadMoreMessages,\r\n} from '../../redux/actions/messageAction';\r\nimport LoadingLottie from '../LoadingLottie';\r\n\r\nconst RightSide = () => {\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const { theme, auth, message, socket, peer } = useSelector((state) => state);\r\n\r\n  const [user, setUser] = useState([]);\r\n  const [text, setText] = useState('');\r\n\r\n  const refDisplay = useRef();\r\n  const pageEnd = useRef();\r\n  const [page, setPage] = useState(0);\r\n\r\n  const [data, setData] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [isLoadMore, setIsLoadMore] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const newData = message.data.find((item) => item._id === id);\r\n    if (newData) {\r\n      setData(newData.messages);\r\n      setResult(newData.result);\r\n      setPage(newData.page);\r\n    }\r\n  }, [message.data, id]);\r\n\r\n  useEffect(() => {\r\n    if (id && message.users.length > 0) {\r\n      setTimeout(() => {\r\n        refDisplay.current.scrollIntoView({ behavior: 'smooth', block: 'end' });\r\n      }, 50);\r\n      const newUser = message.users.find((user) => user._id === id);\r\n      if (newUser) {\r\n        setUser(newUser);\r\n      }\r\n    }\r\n  }, [message.users, id]);\r\n\r\n  useEffect(() => {\r\n    const getMessagesData = async () => {\r\n      if (message.data.every((item) => item._id !== id)) {\r\n        await dispatch(getMessages({ auth, id }));\r\n        setTimeout(() => {\r\n          refDisplay.current.scrollIntoView({ behavior: 'smooth', block: 'end' });\r\n        }, 50);\r\n      }\r\n    };\r\n    getMessagesData();\r\n  }, [id, dispatch, auth, message.data]);\r\n\r\n  //   media:\r\n  const [media, setMedia] = useState([]);\r\n  const [loadMedia, setLoadMedia] = useState(false);\r\n\r\n  const handleChangeMedia = (e) => {\r\n    const files = [...e.target.files];\r\n    let err = '';\r\n    let newMedia = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) return (err = 'File does not exist.');\r\n      if (file.size > 1024 * 1024 * 5) return (err = 'The largest media size is 5mb.');\r\n      return newMedia.push(file);\r\n    });\r\n    if (err.length > 0) {\r\n      return dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    }\r\n    return setMedia([...media, ...newMedia]);\r\n  };\r\n  const handleDeleteMedia = (index) => {\r\n    const newArr = [...media];\r\n    newArr.splice(index, 1);\r\n    setMedia(newArr);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!text.trim() && media.length === 0) {\r\n      return;\r\n    }\r\n    setText('');\r\n    setMedia([]);\r\n    setLoadMedia(true);\r\n\r\n    let newArr = [];\r\n    if (media.length > 0) {\r\n      newArr = await imageUpload(media);\r\n    }\r\n    const msg = {\r\n      sender: auth.user._id,\r\n      recipient: id,\r\n      text,\r\n      media: newArr,\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n    setLoadMedia(false);\r\n    dispatch(addMessage({ msg, auth, socket }));\r\n    if (refDisplay.current) {\r\n      refDisplay.current.scrollIntoView({ behavior: 'smooth', block: 'end' });\r\n    }\r\n  };\r\n\r\n  //load more\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting) {\r\n          setIsLoadMore((p) => p + 1);\r\n        }\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n    observer.observe(pageEnd.current);\r\n  }, [setIsLoadMore]);\r\n\r\n  useEffect(() => {\r\n    if (isLoadMore > 1) {\r\n      if (result >= page * 9) {\r\n        dispatch(loadMoreMessages({ auth, id, page: page + 1 }));\r\n        setIsLoadMore(1);\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [isLoadMore]);\r\n\r\n  //scroll to bottom\r\n  useEffect(() => {\r\n    if (refDisplay.current) {\r\n      refDisplay.current.scrollIntoView({ behavior: 'smooth', block: 'end' });\r\n    }\r\n  }, [text]);\r\n\r\n  const handleDeleteConversation = () => {\r\n    if (window.confirm('Do you want to delete this conversation (permanently) ?')) {\r\n      dispatch(deleteConversation({ auth, id }));\r\n      history.push(`/message`);\r\n    }\r\n  };\r\n\r\n  //call\r\n  const caller = ({ video }) => {\r\n    const { _id, userName, fullName, avatar } = user;\r\n    const msg = {\r\n      sender: auth.user._id,\r\n      recipient: _id,\r\n      avatar,\r\n      userName,\r\n      fullName,\r\n      video,\r\n    };\r\n    dispatch({ type: GLOBALTYPES.CALL, payload: msg });\r\n  };\r\n  const handlePhoneCall = () => {\r\n    caller({ video: false });\r\n    callUser({ video: false });\r\n  };\r\n  const handleVideoCall = () => {\r\n    caller({ video: true });\r\n    callUser({ video: true });\r\n  };\r\n\r\n  //peer calling\r\n  const callUser = ({ video }) => {\r\n    const { _id, avatar, userName, fullName } = auth.user;\r\n    const msg = {\r\n      sender: _id,\r\n      recipient: user._id,\r\n      avatar,\r\n      userName,\r\n      fullName,\r\n      video,\r\n    };\r\n    if (peer.open) {\r\n      msg.peerId = peer._id;\r\n    }\r\n    socket.emit('callUser', msg);\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"message_header\" style={{ cursor: 'pointer' }}>\r\n        {user.length !== 0 && (\r\n          <>\r\n            <UserCard user={user} customStyle={true}>\r\n              <i className=\"fas fa-phone-alt\" onClick={handlePhoneCall} />\r\n              <i className=\"fas fa-video mx-3\" onClick={handleVideoCall} />\r\n              <i className=\"fas fa-trash text-danger\" onClick={handleDeleteConversation} />\r\n            </UserCard>\r\n          </>\r\n        )}\r\n      </div>\r\n      <div\r\n        className=\"chat_container\"\r\n        style={{ height: media.length > 0 ? 'calc(100% - 180px)' : '' }}\r\n      >\r\n        <div className=\"chat_display\" ref={refDisplay}>\r\n          <button style={{ marginTop: '-25px', opacity: 0 }} ref={pageEnd}>\r\n            Load more\r\n          </button>\r\n          {data &&\r\n            data.map((msg, index) => {\r\n              return (\r\n                <div key={index}>\r\n                  {msg.sender !== auth.user._id && (\r\n                    <div className=\"chat_row other_message\">\r\n                      <MsgDisplay user={user} msg={msg} theme={theme} />\r\n                    </div>\r\n                  )}\r\n                  {msg.sender === auth.user._id && (\r\n                    <div className=\"chat_row you_message\">\r\n                      <MsgDisplay user={auth.user} msg={msg} theme={theme} data={data} />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          {loadMedia && <LoadingLottie />}\r\n        </div>\r\n      </div>\r\n      <div className=\"show_media\" style={{ display: media.length > 0 ? 'grid' : 'none' }}>\r\n        {media.map((item, index) => {\r\n          return (\r\n            <div key={index} id=\"file_media\">\r\n              {item.type.match(/video/i)\r\n                ? videoShow(URL.createObjectURL(item), theme)\r\n                : imageShow(URL.createObjectURL(item), theme)}\r\n              <span onClick={() => handleDeleteMedia(index)}>&times;</span>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <form className=\"chat_input\" onSubmit={handleSubmit}>\r\n        <input\r\n          style={{\r\n            filter: theme ? 'invert(1)' : 'invert(0)',\r\n            background: theme ? 'black' : '',\r\n            color: theme ? 'white' : '',\r\n          }}\r\n          type=\"text\"\r\n          placeholder=\"Send message...\"\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n        />\r\n        <Icons setContent={setText} content={text} theme={theme} />\r\n        <div className=\"file_upload\">\r\n          <i className=\"fas fa-image text-danger\" />\r\n\r\n          <input\r\n            multiple\r\n            type=\"file\"\r\n            name=\"file\"\r\n            id=\"file\"\r\n            accept=\"image/*,video/*\"\r\n            onChange={handleChangeMedia}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"material-icons\"\r\n          disabled={text || media.length > 0 ? false : true}\r\n        >\r\n          near_me\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RightSide;\r\n","import React from 'react';\r\nimport LeftSide from '../../components/message/LeftSide';\r\nimport RightSide from '../../components/message/RightSide';\r\n\r\nconst Conversation = () => {\r\n  return (\r\n    <div className=\"message d-flex\">\r\n      <div className=\"col-md-4 border-right px-0 left_mess\">\r\n        <LeftSide />\r\n      </div>\r\n\r\n      <div className=\"col-md-8 px-0\">\r\n        <RightSide />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Avatar = ({ src, size }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  return (\r\n    <img\r\n      src={src}\r\n      alt=\"user avatar\"\r\n      className={size}\r\n      style={{\r\n        filter: theme ? 'invert(1)' : 'invert(0)',\r\n        border: 'solid 1px #0dcaf0',\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React from 'react';\r\nimport Lottie from 'react-lottie';\r\nimport loadingInstaLottie from './lotties/15016-insta-anim.json';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst LoadingLottie = () => {\r\n  const { theme } = useSelector((state) => state);\r\n  const lottieDefaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: loadingInstaLottie,\r\n    rendererSettings: {\r\n      preserveAspectRatio: 'xMidYMid slice',\r\n    },\r\n    isStopped: false,\r\n    isPaused: false,\r\n  };\r\n  return (\r\n    <div>\r\n      <Lottie\r\n        options={lottieDefaultOptions}\r\n        height={200}\r\n        width={200}\r\n        style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingLottie;\r\n","import { getDataAPI, patchDataAPI } from '../../utils/fetchData';\r\nimport { GLOBALTYPES, deleteData } from './globalTypes';\r\nimport { imageUpload } from '../../utils/imageUpload';\r\nimport { createNotify, removeNotify } from './notifyAction';\r\n\r\nexport const PROFILE_TYPES = {\r\n  LOADING: 'LOADING_PROFILE',\r\n  GET_USER: 'GET_PROFILE_USER',\r\n  FOLLOW: 'FOLLOW',\r\n  UNFOLLOW: 'UNFOLLOW',\r\n  GET_ID: 'GET_PROFILE_ID',\r\n  GET_POSTS: 'GET_PROFILE_POSTS',\r\n  UPDATE_POST: 'UPDATE_PROFILE_POST',\r\n};\r\n\r\nexport const getProfileUsers =\r\n  ({ id, auth }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: PROFILE_TYPES.GET_ID, payload: id });\r\n    try {\r\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: true });\r\n\r\n      const res = await getDataAPI(`/user/${id}`, auth.token);\r\n      const res1 = await getDataAPI(`/user_posts/${id}`, auth.token);\r\n\r\n      const users = res;\r\n      const posts = res1;\r\n\r\n      dispatch({ type: PROFILE_TYPES.GET_USER, payload: users.data });\r\n\r\n      dispatch({ type: PROFILE_TYPES.GET_POSTS, payload: { ...posts.data, _id: id, page: 2 } });\r\n\r\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: false });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\nexport const updateUserProfile =\r\n  ({ userData, avatar, auth }) =>\r\n  async (dispatch) => {\r\n    if (!userData.fullName)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: 'Please add your full name.' },\r\n      });\r\n    if (userData.fullName.length > 20)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: 'Full name too long.' },\r\n      });\r\n    if (userData.story.length > 200)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: 'Story exceeded 200 words.' },\r\n      });\r\n    try {\r\n      let media;\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n      if (avatar) media = await imageUpload([avatar]);\r\n\r\n      const res = await patchDataAPI(\r\n        'user',\r\n        {\r\n          ...userData,\r\n          avatar: avatar ? media[0].url : auth.user.avatar,\r\n        },\r\n        auth.token\r\n      );\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: {\r\n          ...auth,\r\n          user: { ...auth.user, ...userData, avatar: avatar ? media[0].url : auth.user.avatar },\r\n        },\r\n      });\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const follow =\r\n  ({ users, user, auth, socket }) =>\r\n  async (dispatch) => {\r\n    let newUser;\r\n    /**\r\n     * NOTE: when visit any user => trigger GET_USER\r\n     * => followers and following get populated\r\n     * but when follow or unfollow indrectly (in userCard) => not trigger GET_USER\r\n     */\r\n\r\n    //add me to stranger followers' list.\r\n\r\n    //this if statement run when user follow people via userCard\r\n    //since they dont visit stranger page directly\r\n    //=>not trigger GET_USER\r\n    //profile.users dont have stranger prefernce\r\n    if (users.every((item) => item._id !== user._id)) {\r\n      newUser = { ...user, followers: [...user.followers, auth.user] };\r\n    } else {\r\n      //else loop thru each stranger\r\n      //if in-loop stranger is current stranger\r\n      //=> add me to current in-loop stranger\r\n      users.forEach((item) => {\r\n        if (item._id === user._id) {\r\n          newUser = { ...item, followers: [...item.followers, auth.user] };\r\n        }\r\n      });\r\n    }\r\n    //add me to stranger followers' list.\r\n    dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser });\r\n\r\n    // add stranger to my list\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: { ...auth, user: { ...auth.user, following: [...auth.user.following, newUser] } },\r\n    });\r\n\r\n    try {\r\n      const res = await patchDataAPI(`user/${user._id}/follow`, null, auth.token);\r\n\r\n      socket.emit('follow', res.data.newUser);\r\n      // Notify\r\n      const msg = {\r\n        id: auth.user._id,\r\n        text: 'has started following you!',\r\n        recipients: [newUser._id],\r\n        url: `/profile/${auth.user._id}`,\r\n      };\r\n\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const unfollow =\r\n  ({ users, user, auth, socket }) =>\r\n  async (dispatch) => {\r\n    let newUser;\r\n    //same logic like follow (but use deleteData function);\r\n    if (users.every((item) => item._id !== user._id)) {\r\n      newUser = { ...user, followers: deleteData(user.followers, auth.user._id) };\r\n    } else {\r\n      users.forEach((item) => {\r\n        if (item._id === user._id) {\r\n          newUser = { ...item, followers: deleteData(user.followers, auth.user._id) };\r\n        }\r\n      });\r\n    }\r\n\r\n    //remove me from stranger's follower list\r\n    dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser });\r\n\r\n    //remove stranger to my list\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        ...auth,\r\n        user: {\r\n          ...auth.user,\r\n          following: deleteData(auth.user.following, newUser._id),\r\n        },\r\n      },\r\n    });\r\n\r\n    try {\r\n      const res = await patchDataAPI(`user/${user._id}/unfollow`, null, auth.token);\r\n      socket.emit('unfollow', res.data.newUser);\r\n\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { msg: res.data.msg } });\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: auth.user._id,\r\n        text: 'unfollowed you.',\r\n        recipients: [newUser._id],\r\n        url: `/profile/${newUser._id}`,\r\n      };\r\n\r\n      dispatch(removeNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n","import React from 'react';\r\nimport Avatar from './Avatar';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nconst UserCard = ({\r\n  children,\r\n  user,\r\n  handleClose,\r\n  setShowFollowers,\r\n  setShowFollowing,\r\n  msg,\r\n  customStyle,\r\n}) => {\r\n  const { theme } = useSelector((state) => state);\r\n  const handleCloseAll = () => {\r\n    if (handleClose) handleClose();\r\n    //when close , if these still open => set to close.\r\n    if (setShowFollowers) setShowFollowers(false);\r\n    if (setShowFollowing) setShowFollowing(false);\r\n  };\r\n\r\n  const showMsg = (user) => {\r\n    return (\r\n      <>\r\n        <div style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}>\r\n          <div>{user.text}</div>\r\n          {user.media.length > 0 && (\r\n            <div>\r\n              {user.media && user.media.length} <i className=\"fas fa-image\" />\r\n            </div>\r\n          )}\r\n          {user.call && (\r\n            <span className=\"material-icons\">\r\n              {user.call.times === 0\r\n                ? user.call.video\r\n                  ? 'videocam_off'\r\n                  : 'phone_disabled'\r\n                : user.call.video\r\n                ? 'video_camera_front'\r\n                : 'call'}\r\n            </span>\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex p-2 justify-content-between align-items-center w-100 \">\r\n      <Link\r\n        style={{ textDecoration: 'none', width: '100%' }}\r\n        to={`/profile/${user._id}`}\r\n        className={`row p-2 userCard `}\r\n        onClick={handleCloseAll}\r\n      >\r\n        <div className=\"col-3\">\r\n          <Avatar src={user.avatar} size=\"big-avatar\" />\r\n        </div>\r\n        <div\r\n          className=\"col-9\"\r\n          style={{\r\n            transform:\r\n              customStyle && window.innerWidth <= 768\r\n                ? 'translateX(-18%)'\r\n                : customStyle && window.innerWidth >= 1080\r\n                ? 'translateX(-22%)'\r\n                : '',\r\n          }}\r\n        >\r\n          <div>\r\n            <span>{user.userName}</span> <br />\r\n            <small style={{ opacity: '.7', filter: theme ? 'invert(1)' : 'invert(0)' }}>\r\n              {msg ? showMsg(user) : user.fullName}\r\n            </small>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserCard;\r\n","export default __webpack_public_path__ + \"static/media/pikachu.bb7bf81e.png\";","var map = {\n\t\"./discover\": 126,\n\t\"./discover.js\": 126,\n\t\"./home\": 83,\n\t\"./home.js\": 83,\n\t\"./login\": 81,\n\t\"./login.js\": 81,\n\t\"./message\": 77,\n\t\"./message/\": 77,\n\t\"./message/[id]\": 142,\n\t\"./message/[id].js\": 142,\n\t\"./message/index\": 77,\n\t\"./message/index.js\": 77,\n\t\"./post/[id]\": 127,\n\t\"./post/[id].js\": 127,\n\t\"./profile/[id]\": 141,\n\t\"./profile/[id].js\": 141,\n\t\"./register\": 82,\n\t\"./register.js\": 82\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 229;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 260;","import React from 'react';\r\nimport Lottie from 'react-lottie';\r\nimport loadingInstaLottie from '../lotties/15016-insta-anim.json';\r\n\r\nconst Loading = () => {\r\n  const lottieDefaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: loadingInstaLottie,\r\n    rendererSettings: {\r\n      preserveAspectRatio: 'xMidYMid slice',\r\n    },\r\n    isStopped: false,\r\n    isPaused: false,\r\n  };\r\n  return (\r\n    <div className=\"loading\">\r\n      <Lottie options={lottieDefaultOptions} height={200} width={200} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\n\r\nconst Toast = ({ msg, handleShow, bgColor }) => {\r\n  return (\r\n    <div\r\n      className={`toast show position-fixed text-light ${bgColor}`}\r\n      style={{ top: '5px', right: '5px', minWidth: '200px', zIndex: 50, width: '200px' }}\r\n    >\r\n      <div\r\n        className={`toast-header text-light ${bgColor}`}\r\n        style={{ display: 'flex', justifyContent: 'space-between' }}\r\n      >\r\n        <strong className=\"mr-auto text-light\">{msg.title}</strong>\r\n        <button\r\n          className={`ml-2 mb-1 close text-light ${bgColor}`}\r\n          data-dismiss=\"toast\"\r\n          style={{ outline: 'none', border: 'none' }}\r\n          onClick={handleShow}\r\n        >\r\n          &times;\r\n        </button>\r\n      </div>\r\n      <div className=\"toast-body\">{msg.body}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toast;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Loading from './loading';\r\nimport Toast from './toast';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nconst Alert = () => {\r\n  const { alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <div\r\n      //   className=\"position-fixed w-100 h-100 text-center\"\r\n      className=\"text-center\"\r\n      style={\r\n        {\r\n          // zIndex: 50,\r\n        }\r\n      }\r\n    >\r\n      {alert.loading && <Loading />}\r\n      {alert.error && (\r\n        <Toast\r\n          msg={{ title: 'Error', body: alert.error }}\r\n          handleShow={() => dispatch({ type: GLOBALTYPES.ALERT, payload: {} })}\r\n          bgColor=\"bg-danger\"\r\n        />\r\n      )}\r\n      {alert.success && (\r\n        <Toast\r\n          msg={{ title: 'Success!', body: alert.success }}\r\n          handleShow={() => dispatch({ type: GLOBALTYPES.ALERT, payload: {} })}\r\n          bgColor=\"bg-success\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Avatar from './Avatar';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\nimport { deleteAllNotifies, isReadNotify, NOTIFY_TYPES } from '../redux/actions/notifyAction';\r\n\r\nexport const pikachuImg = require('../images/pikachu.png');\r\n\r\nconst NotifyModal = () => {\r\n  const dispatch = useDispatch();\r\n  const { auth, notify, theme } = useSelector((state) => state);\r\n\r\n  const handleIsRead = (msg) => {\r\n    dispatch(isReadNotify({ msg, auth }));\r\n  };\r\n\r\n  const handleSound = (sound) => {\r\n    dispatch({ type: NOTIFY_TYPES.UPDATE_SOUND, payload: sound });\r\n  };\r\n\r\n  const handleDeleteAllNotifies = () => {\r\n    const newArr = notify.data.filter((item) => item.isRead === false);\r\n    if (newArr.length === 0) {\r\n      return dispatch(deleteAllNotifies(auth.token));\r\n    }\r\n    if (window.confirm(`A friendly reminder: You have ${newArr.length} notifications unread. `)) {\r\n      return dispatch(deleteAllNotifies(auth.token));\r\n    }\r\n  };\r\n  return (\r\n    <div style={{ minWidth: '300px' }} className=\"notify_modal\">\r\n      <div className=\"d-flex justify-content-between align-items-center px-2\">\r\n        <h3>Notification</h3>\r\n        {notify.sound || localStorage.getItem('Instawhine_notification') === 'true' ? (\r\n          <i\r\n            className=\"fas fa-bell text-danger\"\r\n            style={{ fontSize: '1.2rem', cursor: 'pointer' }}\r\n            onClick={() => handleSound(false)}\r\n          />\r\n        ) : (\r\n          <i\r\n            className=\"fas fa-bell-slash text-danger\"\r\n            style={{ fontSize: '1.2rem', cursor: 'pointer' }}\r\n            onClick={() => handleSound(true)}\r\n          />\r\n        )}\r\n      </div>\r\n      <hr className=\"mt-0\" />\r\n      {notify.data.length === 0 && (\r\n        <div\r\n          style={{\r\n            position: 'relative',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n          }}\r\n        >\r\n          <img\r\n            src={pikachuImg.default}\r\n            alt=\"no notification img\"\r\n            style={{ width: '250px', height: '200px', filter: theme ? 'invert(10' : 'invert(0)' }}\r\n          />\r\n          <span style={{ position: 'absolute', top: '50px', left: 0 }} className=\"ml-2\">\r\n            <h6\r\n              style={{ filter: theme ? 'invert(1)' : 'invert(0)', color: theme ? 'white' : '#111' }}\r\n            >\r\n              No new inboxes!\r\n            </h6>\r\n          </span>\r\n        </div>\r\n      )}\r\n      <div\r\n        style={{ height: '100%', maxHeight: 'calc(100vh - 200px)', overflow: 'auto' }}\r\n        className=\"notify_data\"\r\n      >\r\n        {notify.data.map((msg, index) => {\r\n          return (\r\n            <div key={index} className=\"px-2 mb-3\">\r\n              <Link\r\n                to={`${msg.url}`}\r\n                className=\"d-flex text-dark align-items-center\"\r\n                onClick={() => handleIsRead(msg)}\r\n              >\r\n                <Avatar src={msg.user.avatar} size=\"big-avatar\" />\r\n                <div className=\"mx-1 flex-fill\">\r\n                  <div>\r\n                    <strong className=\"mr-1\">{msg.user.userName}</strong>\r\n                    <span>{msg.text}</span>\r\n                  </div>\r\n                  {msg.content && <small>{msg.content.slice(0, 20)}...</small>}\r\n                </div>\r\n                {msg.image && (\r\n                  <div style={{ width: '30px' }}>\r\n                    {msg.image.match(/video/i) ? (\r\n                      <video src={msg.image} width=\"100%\" />\r\n                    ) : (\r\n                      <Avatar src={msg.image} size=\"medium-avatar\" />\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Link>\r\n              <small className=\"text-muted d-flex justify-content-between mx-2 align-items-center\">\r\n                {moment(msg.createdAt).fromNow()}\r\n                {!msg.isRead && <i className=\"fas fa-circle text-primary \" />}\r\n              </small>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <hr className=\"my-1\" />\r\n      <div\r\n        className=\"text-right text-danger mr-2\"\r\n        style={{ cursor: 'pointer' }}\r\n        onClick={handleDeleteAllNotifies}\r\n      >\r\n        Delete all\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotifyModal;\r\n","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport Avatar from '../Avatar';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logout } from '../../redux/actions/authAction';\r\nimport NotifyModal from '../NotifyModal';\r\n\r\nconst Menu = () => {\r\n  const { pathname } = useLocation();\r\n  const dispatch = useDispatch();\r\n  const { theme, auth, notify } = useSelector((state) => state);\r\n\r\n  const navLinks = [\r\n    { label: 'Home', icon: 'home', path: '/' },\r\n    { label: 'Message', icon: 'near_me', path: '/message' },\r\n    { label: 'Discover', icon: 'explore', path: '/discover' },\r\n  ];\r\n  const isActive = (pathName) => {\r\n    if (pathName === pathname) return 'active';\r\n  };\r\n  const handleLogout = (e) => {\r\n    dispatch(logout());\r\n  };\r\n  return (\r\n    <div className=\"menu\">\r\n      <ul className=\"navbar-nav flex-row\">\r\n        {navLinks.map((each, index) => {\r\n          return (\r\n            <li className={`nav-item  ${isActive(each.path)} px-2`} key={index}>\r\n              <Link className=\"nav-link\" to={each.path}>\r\n                {each.icon === 'near_me' ? (\r\n                  <i\r\n                    style={{ fontSize: '1.5em', transform: 'translateY(3px)' }}\r\n                    className=\"far fa-paper-plane\"\r\n                    aria-hidden=\"true\"\r\n                  ></i>\r\n                ) : (\r\n                  <span className=\"material-icons\">{each.icon}</span>\r\n                )}\r\n              </Link>\r\n            </li>\r\n          );\r\n        })}\r\n        {/* notify */}\r\n        <li className=\"nav-item dropdown\" style={{ opacity: 1 }}>\r\n          <span\r\n            className=\"nav-link position-relative\"\r\n            id=\"navbarDropdown\"\r\n            role=\"button\"\r\n            data-toggle=\"dropdown\"\r\n            aria-haspopup=\"true\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <span\r\n              className=\"material-icons\"\r\n              style={{ color: notify.data.length > 0 ? 'crimson' : '' }}\r\n            >\r\n              favorite\r\n            </span>\r\n\r\n            <span className=\"notify_length\">{notify.data.length}</span>\r\n          </span>\r\n\r\n          <div\r\n            className=\"dropdown-menu\"\r\n            aria-labelledby=\"navbarDropdown\"\r\n            style={{ transform: 'translateX(74px)' }}\r\n          >\r\n            <NotifyModal />\r\n          </div>\r\n        </li>\r\n        {/* menu */}\r\n        <li className=\"nav-item dropdown\" style={{ opacity: 1 }}>\r\n          <span\r\n            className=\"nav-link\"\r\n            id=\"navbarDropdown\"\r\n            data-bs-toggle=\"dropdown\"\r\n            data-toggle=\"dropdown\"\r\n            role=\"button\"\r\n            aria-expanded=\"false\"\r\n            aria-haspopup=\"true\"\r\n            style={{ position: 'relative' }}\r\n          >\r\n            <Avatar src={auth.user.avatar} size=\"small-avatar\" />\r\n          </span>\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n            <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>\r\n              Profile\r\n            </Link>\r\n            <label\r\n              htmlFor=\"theme\"\r\n              className=\"dropdown-item\"\r\n              onClick={() => {\r\n                localStorage.getItem('instawhine_theme')\r\n                  ? localStorage.removeItem('instawhine_theme')\r\n                  : localStorage.setItem('instawhine_theme', 'true');\r\n                dispatch({ type: GLOBALTYPES.THEME, payload: !theme });\r\n              }}\r\n            >\r\n              {theme ? 'Light mode' : 'Dark mode'}\r\n            </label>\r\n\r\n            <hr className=\"dropdown-divider\" />\r\n            <Link className=\"dropdown-item\" to=\"/\" onClick={handleLogout}>\r\n              Log Out\r\n            </Link>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\nimport UserCard from '../UserCard';\r\n\r\nconst Search = () => {\r\n  const [search, setSearch] = useState('');\r\n  const handleSearch = (e) => {\r\n    setSearch(e.target.value.toString().toLowerCase().replace(/ /g, ''));\r\n  };\r\n\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const handleClose = () => {\r\n    setSearch('');\r\n    setUsers([]);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!search) {\r\n      return;\r\n    }\r\n    try {\r\n      setLoad(true);\r\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\r\n      setUsers(res.data.users);\r\n      setLoad(false);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n  return (\r\n    <form className=\"search_form\" onSubmit={handleSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        name=\"search\"\r\n        value={search}\r\n        onChange={handleSearch}\r\n        className=\"form-control\"\r\n        id=\"search\"\r\n        title=\"Search\"\r\n      />\r\n      <div className=\"search_icon\" style={{ opacity: search ? '0' : '.5' }}>\r\n        <span className=\"material-icons\">search</span>\r\n        <span>Search</span>\r\n      </div>\r\n      <div\r\n        className=\"search_close\"\r\n        style={{ opacity: users.length === 0 ? '0' : '1' }}\r\n        onClick={handleClose}\r\n      >\r\n        &times;\r\n      </div>\r\n\r\n      <div type=\"submit\" style={{ display: 'none' }}>\r\n        Search\r\n      </div>\r\n      {load && <div className=\"spinner-border\" role=\"status\" />}\r\n      <div className=\"users\">\r\n        {search &&\r\n          users.map((each) => {\r\n            return (\r\n              <UserCard user={each} border=\"border\" key={each._id} handleClose={handleClose} />\r\n            );\r\n          })}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Menu from './menu';\r\nimport Search from './Search';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"header bg-light\">\r\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light justify-content-between align-middle\">\r\n        <Link\r\n          to=\"/\"\r\n          className=\"logo\"\r\n          style={{ textDecoration: 'none' }}\r\n          onClick={() => window.scrollTo({ top: 0 })}\r\n        >\r\n          <h1 className=\"navbar-brand text-uppercase\">Instawhine</h1>\r\n        </Link>\r\n        <Search />\r\n        <Menu />\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"position-relative\" style={{ minHeight: 'calc(100vh - 70px)' }}>\r\n      <h2\r\n        className=\"position-absolute text-secondary\"\r\n        style={{ top: '50%', left: '50%', transform: 'translate(-50% , -50%)' }}\r\n      >\r\n        404 | Not found\r\n      </h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport NotFound from '../components/NotFound';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst PageRender = () => {\r\n  const { page, id } = useParams();\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  const generagePage = (pageInfo) => {\r\n    //   must match login or register\r\n    const component = () => {\r\n      return require(`../pages/${pageInfo}`).default;\r\n    };\r\n    try {\r\n      return React.createElement(component());\r\n    } catch (err) {\r\n      return <NotFound />;\r\n    }\r\n  };\r\n\r\n  let pageInfo = ``;\r\n\r\n  if (auth.token) {\r\n    if (id) pageInfo = `${page}/[id]`;\r\n    else pageInfo = `${page}`;\r\n  }\r\n  return generagePage(pageInfo);\r\n};\r\n\r\nexport default PageRender;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { GLOBALTYPES } from '../redux/actions/globalTypes';\r\nimport { createPost, updatePost } from '../redux/actions/postAction';\r\nimport Icons from './Icons';\r\nimport { imageShow, videoShow } from '../utils/mediaShow';\r\n\r\nconst StatusModal = () => {\r\n  const dispatch = useDispatch();\r\n  const { status, auth, theme, socket } = useSelector((state) => state);\r\n\r\n  const [content, setContent] = useState('');\r\n  const [images, setImages] = useState([]);\r\n\r\n  //streaming\r\n  const [stream, setStream] = useState(false);\r\n  const videoRef = useRef();\r\n  const refCanvas = useRef();\r\n  const [tracks, setTracks] = useState('');\r\n\r\n  const handleChangeImages = (e) => {\r\n    const files = [...e.target.files];\r\n    let err = '';\r\n    let newImages = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) return (err = 'File does not exist.');\r\n      // if (file.type !=== 'image/jpeg' && file.type !=== 'image/png')\r\n      //   return (err = 'Image format must be JPEG pr PNG.');\r\n      if (file.size > 1024 * 1024 * 5) return (err = 'The largest media size is 5mb.');\r\n\r\n      return newImages.push(file);\r\n    });\r\n    if (err.length > 0) {\r\n      return dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    }\r\n\r\n    return setImages([...images, ...newImages]);\r\n  };\r\n\r\n  const deleteImage = (index) => {\r\n    const newImagesArr = [...images];\r\n    const imageToBeRemoved = newImagesArr[index];\r\n    setImages(newImagesArr.filter((each) => each !== imageToBeRemoved));\r\n  };\r\n\r\n  const handleStream = () => {\r\n    setStream(true);\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      navigator.mediaDevices\r\n        .getUserMedia({ video: true })\r\n        .then((mediaStream) => {\r\n          videoRef.current.srcObject = mediaStream;\r\n          videoRef.current.play();\r\n          const track = mediaStream.getTracks();\r\n\r\n          setTracks(track[0]);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const handleCapture = () => {\r\n    //To skip the border and scrollbar\r\n    const width = videoRef.current.clientWidth;\r\n    const height = videoRef.current.clientHeight;\r\n\r\n    refCanvas.current.setAttribute('width', width);\r\n    refCanvas.current.setAttribute('height', height);\r\n\r\n    const ctx = refCanvas.current.getContext('2d');\r\n    ctx.drawImage(videoRef.current, 0, 0, width, height);\r\n\r\n    let URL = refCanvas.current.toDataURL();\r\n    setImages([...images, { camera: URL }]);\r\n  };\r\n\r\n  const handleStopStream = () => {\r\n    tracks.stop();\r\n    setStream(false);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (images.length === 0)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: 'Please add at least 1 photo.' },\r\n      });\r\n\r\n    if (status.onEdit) {\r\n      dispatch(updatePost({ content, images, auth, status }));\r\n    } else {\r\n      dispatch(createPost({ content, images, auth, socket }));\r\n    }\r\n\r\n    if (tracks) tracks.stop();\r\n    setContent('');\r\n    setImages([]);\r\n    dispatch({ type: GLOBALTYPES.STATUS, payload: false });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status.onEdit) {\r\n      setContent(status.content);\r\n      setImages(status.images);\r\n    }\r\n  }, [status]);\r\n\r\n  return (\r\n    <div className=\"status_modal\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"status_header\">\r\n          <h5 className=\"m-0\"> {status.onEdit ? 'Edit your post' : 'Create new post'}</h5>\r\n          <span\r\n            onClick={() => {\r\n              if (tracks) tracks.stop();\r\n              dispatch({ type: GLOBALTYPES.STATUS, payload: false });\r\n            }}\r\n          >\r\n            &times;\r\n          </span>\r\n        </div>\r\n        <div className=\"status_body\">\r\n          <textarea\r\n            style={{\r\n              filter: theme ? 'invert(1)' : 'invert(0)',\r\n              background: theme ? 'rgba(0,0,0,.03)' : '',\r\n              color: theme ? 'white' : '#111',\r\n            }}\r\n            name=\"content\"\r\n            value={content}\r\n            placeholder={`${auth.user.userName}, what's on your mind?`}\r\n            onChange={(e) => setContent(e.target.value)}\r\n          />\r\n          <div className=\"d-flex\">\r\n            <div className=\"flex-fill\"></div>\r\n            <Icons setContent={setContent} content={content} theme={theme} />\r\n          </div>\r\n          <div className=\"show_images\">\r\n            {images &&\r\n              images.map((img, index) => {\r\n                return (\r\n                  <div key={index} id=\"file_img\">\r\n                    {img.camera ? (\r\n                      imageShow(img.camera, theme)\r\n                    ) : img.url ? (\r\n                      <>\r\n                        {img.url.match(/video/i)\r\n                          ? videoShow(img.url, theme)\r\n                          : imageShow(img.url, theme)}\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        {img.type.match(/video/i)\r\n                          ? videoShow(URL.createObjectURL(img), theme)\r\n                          : imageShow(URL.createObjectURL(img), theme)}\r\n                      </>\r\n                    )}\r\n                    <span onClick={() => deleteImage(index)}>&times;</span>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n          {stream && (\r\n            <div className=\"stream position-relative\" style={{ transform: 'scaleX(-1)' }}>\r\n              <video\r\n                muted\r\n                autoPlay\r\n                ref={videoRef}\r\n                className=\"videoCanvas\"\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n              />\r\n              <span style={{ cursor: 'pointer' }} onClick={handleStopStream}>\r\n                &times;\r\n              </span>\r\n              <canvas ref={refCanvas} style={{ display: 'none' }} />\r\n            </div>\r\n          )}\r\n          <div className=\"input_images\">\r\n            {stream ? (\r\n              <i className=\"fa fa-camera\" onClick={handleCapture} />\r\n            ) : (\r\n              <>\r\n                <i className=\"fa fa-camera\" onClick={handleStream} />\r\n                <div className=\"file_upload\">\r\n                  <i className=\"fa fa-image\" />\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    id=\"file\"\r\n                    multiple\r\n                    accept=\"image/*,video/*\"\r\n                    onChange={handleChangeImages}\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"status_footer \">\r\n          <button className=\"btn btn-dark w-100\" type=\"submit\">\r\n            Post\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusModal;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRouter = (props) => {\r\n  const firstLogin = localStorage.getItem('firstLogin');\r\n  return firstLogin ? <Route {...props} /> : <Redirect to=\"/\" />;\r\n};\r\n\r\nexport default PrivateRouter;\r\n","export default __webpack_public_path__ + \"static/media/messenger.9e7ad575.mp3\";","import React, { useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { POST_TYPES } from './redux/actions/postAction';\r\nimport { GLOBALTYPES } from './redux/actions/globalTypes';\r\nimport { NOTIFY_TYPES } from './redux/actions/notifyAction';\r\nimport messengerSound from './sounds/messenger.mp3';\r\n\r\nimport { MESS_TYPES } from './redux/actions/messageAction';\r\n\r\nconst spawnNotification = (body, icon, url, title) => {\r\n  let options = { body, icon };\r\n  let n = new Notification(title, options);\r\n\r\n  n.onClick = (e) => {\r\n    e.preventDefault();\r\n    window.open(url, '_blank');\r\n  };\r\n};\r\n\r\nconst SocketClient = () => {\r\n  const dispatch = useDispatch();\r\n  const { auth, socket, notify, online, call } = useSelector((state) => state);\r\n\r\n  const audioRef = useRef();\r\n\r\n  // join user\r\n  useEffect(() => {\r\n    socket.emit('joinUser', auth.user);\r\n  }, [socket, auth.user]);\r\n\r\n  // likes\r\n  useEffect(() => {\r\n    socket.on('likeToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off('likeToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // unlikes\r\n  useEffect(() => {\r\n    socket.on('unlikeToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off('unlikeToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // createComment\r\n  useEffect(() => {\r\n    socket.on('createCommentToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off('createCommentToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // createComment\r\n  useEffect(() => {\r\n    socket.on('deleteCommentToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off('deleteCommentToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // like comment\r\n  useEffect(() => {\r\n    socket.on('likeCommentToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off('likeCommentToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // unlike comment\r\n  useEffect(() => {\r\n    socket.on('unlikeCommentToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off('unlikeCommentToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // update comment\r\n  useEffect(() => {\r\n    socket.on('updateCommentToClient', (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off('updateCommentToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // follow\r\n  useEffect(() => {\r\n    socket.on('followToClient', (newUser) => {\r\n      dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n    });\r\n    return () => socket.off('followToClient');\r\n  }, [socket, dispatch, auth]);\r\n\r\n  // unfollow\r\n  useEffect(() => {\r\n    socket.on('unfollowToClient', (newUser) => {\r\n      dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n    });\r\n    return () => socket.off('unfollowToClient');\r\n  }, [socket, dispatch, auth]);\r\n\r\n  // notification\r\n  useEffect(() => {\r\n    socket.on('createNotifyToClient', (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg });\r\n      if (notify.sound) {\r\n        audioRef.current.play();\r\n      }\r\n      spawnNotification(msg.user.userName + ' ' + msg.text, msg.user.avatar, msg.url, 'Instawhine');\r\n    });\r\n    return () => socket.off('createNotifyToClient');\r\n  }, [socket, dispatch, notify.sound]);\r\n\r\n  useEffect(() => {\r\n    socket.on('removeNotifyToCilent', (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg });\r\n    });\r\n    return () => socket.off('removeNotifyToCilent');\r\n  }, [socket, dispatch]);\r\n\r\n  // message\r\n  useEffect(() => {\r\n    socket.on('addMessageToClient', (msg) => {\r\n      dispatch({ type: MESS_TYPES.ADD_MESSAGE, payload: msg });\r\n\r\n      //show incoming user in left side immediately\r\n      dispatch({\r\n        type: MESS_TYPES.ADD_USER,\r\n        payload: { ...msg.user, text: msg.text, media: msg.media },\r\n      });\r\n    });\r\n    return () => socket.off('addMessageToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // check user online/offline\r\n  useEffect(() => {\r\n    socket.emit('checkUserOnline', auth.user);\r\n  }, [socket, auth.user]);\r\n\r\n  useEffect(() => {\r\n    socket.on('checkUserOnlineToMe', (data) => {\r\n      data.forEach((item) => {\r\n        if (!online.includes(item.id)) {\r\n          dispatch({ type: GLOBALTYPES.ONLINE, payload: item.id });\r\n        }\r\n      });\r\n    });\r\n    return () => socket.off('checkUserOnlineToMe');\r\n  }, [socket, dispatch, online]);\r\n\r\n  useEffect(() => {\r\n    socket.on('checkUserOnlineToClient', (id) => {\r\n      if (!online.includes(id)) {\r\n        dispatch({ type: GLOBALTYPES.ONLINE, payload: id });\r\n      }\r\n    });\r\n    return () => socket.off('checkUserOnlineToClient');\r\n  }, [socket, dispatch, online]);\r\n\r\n  // check user offline\r\n  useEffect(() => {\r\n    socket.on('checkUserOffline', (id) => {\r\n      dispatch({ type: GLOBALTYPES.OFFLINE, payload: id });\r\n    });\r\n    return () => socket.off('checkUserOffline');\r\n  }, [socket, dispatch]);\r\n\r\n  // call user\r\n  useEffect(() => {\r\n    socket.on('callUserToClient', (data) => {\r\n      dispatch({ type: GLOBALTYPES.CALL, payload: data });\r\n    });\r\n    return () => socket.off('callUserToClient');\r\n  }, [socket, dispatch]);\r\n\r\n  // listen busy call\r\n  useEffect(() => {\r\n    socket.on('userBusy', (data) => {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: `${data.userName} is busy. Please call later!` },\r\n      });\r\n    });\r\n    return () => socket.off('userBusy');\r\n  }, [socket, dispatch, call]);\r\n\r\n  // end call\r\n  useEffect(() => {\r\n    socket.on('endCallToClient', (data) => {\r\n      dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n    });\r\n    return () => socket.off('endCallToClient');\r\n  }, [socket, dispatch]);\r\n  return (\r\n    <>\r\n      <audio ref={audioRef} controls style={{ display: 'none' }}>\r\n        <source src={messengerSound} type=\"audio/mp3\" />\r\n      </audio>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SocketClient;\r\n","export default __webpack_public_path__ + \"static/media/ring.278d7816.mp3\";","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport Avatar from '../Avatar';\r\nimport { addMessage } from '../../redux/actions/messageAction';\r\nimport ring from '../../sounds/ring.mp3';\r\n\r\nconst CallModal = () => {\r\n  const dispatch = useDispatch();\r\n  const { auth, call, peer, socket, theme } = useSelector((state) => state);\r\n\r\n  const [hours, setHours] = useState(0);\r\n  const [mins, setMins] = useState(0);\r\n  const [second, setSecond] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  const [answer, setAnswer] = useState(false);\r\n\r\n  //video call _ camera\r\n  const youVideo = useRef();\r\n  const otherVideo = useRef();\r\n  const [tracks, setTracks] = useState([]);\r\n\r\n  const [newCall, setNewCall] = useState(null);\r\n\r\n  //set timer\r\n  useEffect(() => {\r\n    const setTime = () => {\r\n      setTotal((t) => t + 1);\r\n      setTimeout(setTime, 1000);\r\n    };\r\n    setTime();\r\n\r\n    return () => {\r\n      setTotal(0);\r\n    };\r\n  }, [call]);\r\n\r\n  useEffect(() => {\r\n    setSecond(total % 60);\r\n    setMins(parseInt(total / 60));\r\n    setHours(parseInt(total / 3600));\r\n  }, [total]);\r\n  const addCallMessage = useCallback(\r\n    (call, times, disconnect) => {\r\n      if (call.recipient !== auth.user._id || disconnect) {\r\n        const msg = {\r\n          sender: call.sender,\r\n          recipient: call.recipient,\r\n          text: '',\r\n          media: [],\r\n          call: { video: call.video, times },\r\n          createdAt: new Date().toISOString(),\r\n        };\r\n        dispatch(addMessage({ msg, auth, socket }));\r\n      }\r\n    },\r\n    [auth, dispatch, socket]\r\n  );\r\n  //after 15second => missed call\r\n  useEffect(() => {\r\n    if (answer) {\r\n      setTotal(0);\r\n    } else {\r\n      const timer = setTimeout(() => {\r\n        // missed call\r\n        socket.emit('endCall', { ...call, times: 0 });\r\n        addCallMessage(call, 0);\r\n        dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n      }, 60000);\r\n\r\n      return () => {\r\n        clearTimeout(timer);\r\n      };\r\n    }\r\n  }, [dispatch, answer, call, socket, addCallMessage]);\r\n\r\n  useEffect(() => {\r\n    socket.on('endCallToClient', (data) => {\r\n      tracks && tracks.forEach((track) => track.stop());\r\n\r\n      if (newCall) newCall.close();\r\n\r\n      addCallMessage(data, data.times);\r\n      dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n    });\r\n    return () => socket.off('endCallToClient');\r\n  }, [socket, dispatch, tracks, addCallMessage, newCall]);\r\n\r\n  //end call\r\n  const handleEndCall = () => {\r\n    tracks && tracks.forEach((track) => track.stop());\r\n\r\n    if (newCall) newCall.close();\r\n\r\n    let times = answer ? total : 0;\r\n\r\n    socket.emit('endCall', { ...call, times });\r\n    addCallMessage(call, times);\r\n    dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n  };\r\n\r\n  // stream media\r\n  const openStream = (video) => {\r\n    const config = { audio: true, video };\r\n    return navigator.mediaDevices.getUserMedia(config);\r\n  };\r\n\r\n  const playStream = (tag, stream) => {\r\n    let video = tag;\r\n    video.srcObject = stream;\r\n    video.play();\r\n  };\r\n\r\n  // answer call\r\n  const handleAnswer = () => {\r\n    openStream(call.video).then(async (stream) => {\r\n      await playStream(youVideo.current, stream);\r\n      const track = stream.getTracks();\r\n      setTracks(track);\r\n\r\n      //docs in Peerjs lib\r\n      const newCall = peer.call(call.peerId, stream);\r\n      newCall.on('stream', function (remoteStream) {\r\n        playStream(otherVideo.current, remoteStream);\r\n      });\r\n\r\n      setAnswer(true);\r\n      setNewCall(newCall);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    peer.on('call', (newCall) => {\r\n      openStream(call.video).then((stream) => {\r\n        if (youVideo.current) {\r\n          playStream(youVideo.current, stream);\r\n        }\r\n\r\n        const track = stream.getTracks();\r\n        setTracks(track);\r\n\r\n        newCall.answer(stream);\r\n\r\n        newCall.on('stream', function (remoteStream) {\r\n          if (otherVideo.current) {\r\n            playStream(otherVideo.current, remoteStream);\r\n          }\r\n        });\r\n\r\n        setAnswer(true);\r\n        setNewCall(newCall);\r\n      });\r\n    });\r\n\r\n    return () => peer.removeListener('call');\r\n  }, [peer, call.video]);\r\n\r\n  //disconnect\r\n  useEffect(() => {\r\n    socket.on('callerDisconnect', () => {\r\n      tracks && tracks.forEach((track) => track.stop());\r\n\r\n      if (newCall) newCall.close();\r\n\r\n      // clear the call modal\r\n      dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: `${call.userName} disconnected.` } });\r\n      let times = answer ? total : 0;\r\n      addCallMessage(call, times, true);\r\n    });\r\n    return () => socket.off('callerDisconnect');\r\n  }, [socket, tracks, dispatch, call, addCallMessage, answer, total, newCall]);\r\n\r\n  // play-pause audio\r\n  const playAudio = (newAudio) => {\r\n    newAudio.play();\r\n  };\r\n  const pauseAudio = (newAudio) => {\r\n    newAudio.pause();\r\n    newAudio.currentTime = 0;\r\n  };\r\n  useEffect(() => {\r\n    let newAudio = new Audio(ring);\r\n    if (answer) {\r\n      pauseAudio(newAudio);\r\n    } else playAudio(newAudio);\r\n\r\n    return () => pauseAudio(newAudio);\r\n  }, [answer]);\r\n  return (\r\n    <div className=\"call_modal\">\r\n      <div className=\"call_box\" style={{ display: answer && call.video ? 'none' : 'flex' }}>\r\n        <div className=\"text-center\" style={{ padding: '40px 0 ' }}>\r\n          <Avatar src={call.avatar} size=\"super-avatar\" />\r\n          <h4>{call.userName}</h4>\r\n          <h4>{call.fullName}</h4>\r\n          {answer ? (\r\n            <div>\r\n              <span>{hours.toString().length < 2 ? '0' + hours : hours}</span>\r\n              <span>:</span>\r\n              <span>{mins.toString().length < 2 ? '0' + mins : mins}</span>\r\n              <span>:</span>\r\n              <span>{second.toString().length < 2 ? '0' + second : second}</span>\r\n            </div>\r\n          ) : (\r\n            <div>{call.video ? <span>Calling video...</span> : <span>Calling...</span>}</div>\r\n          )}\r\n        </div>\r\n\r\n        {!answer && (\r\n          <div className=\"timer\">\r\n            <small>{mins.toString().length < 2 ? '0' + mins : mins}</small>\r\n            <small>:</small>\r\n            <small>{second.toString().length < 2 ? '0' + second : second}</small>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"call_menu\">\r\n          <button\r\n            className={`material-icons text-danger ${\r\n              call.recipient !== auth.user._id ? 'center_cancel_btn' : ''\r\n            }`}\r\n            onClick={handleEndCall}\r\n          >\r\n            call_end\r\n          </button>\r\n          {call.recipient === auth.user._id && !answer && (\r\n            <>\r\n              {call.video ? (\r\n                <button className=\"material-icons text-success \" onClick={handleAnswer}>\r\n                  videocam\r\n                </button>\r\n              ) : (\r\n                <button className=\"material-icons text-success\" onClick={handleAnswer}>\r\n                  call\r\n                </button>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"show_video\"\r\n        style={{\r\n          opacity: answer && call.video ? '1' : '0',\r\n          filter: theme ? 'invert(1)' : 'invert(0)',\r\n        }}\r\n      >\r\n        <video ref={youVideo} className=\"you_video\" playsInline muted />\r\n        <video ref={otherVideo} className=\"other_video\" playsInline />\r\n        <div className=\"time_video\">\r\n          <span>{hours.toString().length < 2 ? '0' + hours : hours}</span>\r\n          <span>:</span>\r\n          <span>{mins.toString().length < 2 ? '0' + mins : mins}</span>\r\n          <span>:</span>\r\n          <span>{second.toString().length < 2 ? '0' + second : second}</span>\r\n        </div>\r\n        <button className={`material-icons text-danger end_call`} onClick={handleEndCall}>\r\n          call_end\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CallModal;\r\n","import { useEffect } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport Alert from './components/alert/alert';\nimport Header from './components/Header/Header';\n\nimport PageRender from './customRouter/PageRender';\nimport Login from './pages/login';\nimport Home from './pages/home';\nimport Register from './pages/register';\nimport StatusModal from './components/StatusModal';\n\nimport PrivateRouter from './customRouter/privateRouter';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { refreshToken } from './redux/actions/authAction';\nimport { getPosts } from './redux/actions/postAction';\nimport { GLOBALTYPES } from './redux/actions/globalTypes';\nimport { getSuggestions } from './redux/actions/suggestionAction';\n\nimport io from 'socket.io-client';\nimport SocketClient from './SocketClient';\n\nimport { getNotifies } from './redux/actions/notifyAction';\nimport CallModal from './components/message/CallModal';\n\n//peer\nimport Peer from 'peerjs';\n\nfunction App() {\n  const { auth, status, theme, modal, call } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (localStorage.getItem('instawhine_theme')) {\n      document.getElementById('theme').checked = true;\n      dispatch({ type: GLOBALTYPES.THEME, payload: !theme });\n    }\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch(refreshToken());\n\n    // establish socket\n    const socket = io();\n    dispatch({ type: GLOBALTYPES.SOCKET, payload: socket });\n    //unmount => disconnect\n    return () => socket.close();\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (auth.token) {\n      dispatch(getPosts(auth.token));\n      dispatch(getSuggestions(auth.token));\n      dispatch(getNotifies(auth.token));\n    }\n  }, [dispatch, auth.token, auth?.user?.followers, auth?.user?.following]);\n\n  useEffect(() => {\n    if (!('Notification' in window)) {\n      alert('This browser does not support desktop notification');\n    } else if (Notification.permission === 'granted') {\n      if (localStorage.getItem('Instawhine_notification') !== 'true') {\n        localStorage.setItem('Instawhine_notification', 'true');\n      }\n    } else if (Notification.permission !== 'denied') {\n      Notification.requestPermission().then(function (permission) {\n        if (permission === 'granted') {\n          if (localStorage.getItem('Instawhine_notification') !== 'true') {\n            localStorage.setItem('Instawhine_notification', 'true');\n          }\n        }\n      });\n    }\n  }, []);\n\n  // peer\n  useEffect(() => {\n    const newPeer = new Peer(undefined, { path: '/', secure: true });\n    dispatch({ type: GLOBALTYPES.PEER, payload: newPeer });\n  }, [dispatch]);\n  return (\n    <Router>\n      <Alert />\n      <input type=\"checkbox\" id=\"theme\" />\n      <div className={`App ${(status || modal) && 'mode'}`}>\n        <div className=\"main\">\n          {auth.token && <Header />}\n          {status && <StatusModal />}\n          {auth.token && <SocketClient />}\n          {call && <CallModal />}\n\n          <Route exact path=\"/\" component={auth.token ? Home : Login} />\n          <Route exact path=\"/register\" component={Register} />\n\n          <PrivateRouter exact path=\"/:page\" component={PageRender} />\n          <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\nconst initialState = {};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.AUTH:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default authReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\nconst initialState = {};\r\n\r\nconst alertReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.ALERT:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default alertReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\nconst initialState = false;\r\n\r\nconst themeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.THEME:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default themeReducer;\r\n","import { PROFILE_TYPES } from '../actions/profileAction';\r\nimport { editData } from '../actions/globalTypes';\r\n\r\nconst initialState = {\r\n  ids: [],\r\n  loading: false,\r\n  users: [],\r\n  userPosts: [],\r\n  posts: [],\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case PROFILE_TYPES.LOADING:\r\n      return { ...state, loading: action.payload };\r\n    case PROFILE_TYPES.GET_USER:\r\n      return { ...state, users: [...state.users, action.payload.user] };\r\n    case PROFILE_TYPES.FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: editData(state.users, action.payload._id, action.payload),\r\n      };\r\n\r\n    case PROFILE_TYPES.UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: editData(state.users, action.payload._id, action.payload),\r\n      };\r\n    case PROFILE_TYPES.GET_ID: {\r\n      return {\r\n        ...state,\r\n        ids: [...state.ids, action.payload],\r\n      };\r\n    }\r\n    case PROFILE_TYPES.GET_POSTS: {\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, action.payload],\r\n      };\r\n    }\r\n    case PROFILE_TYPES.UPDATE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: editData(state.posts, action.payload._id, action.payload),\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default profileReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst statusReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.STATUS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default statusReducer;\r\n","import { POST_TYPES } from '../actions/postAction';\r\nimport { deleteData, editData } from '../actions/globalTypes';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  posts: [],\r\n  result: 0,\r\n  page: 2,\r\n};\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case POST_TYPES.CREATE_POST: {\r\n      return { ...state, posts: [action.payload, ...state.posts] };\r\n    }\r\n    case POST_TYPES.LOADING_POSTS: {\r\n      return { ...state, loading: action.payload };\r\n    }\r\n    case POST_TYPES.GET_POSTS: {\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        page: action.payload.page,\r\n      };\r\n    }\r\n    case POST_TYPES.UPDATE_POST: {\r\n      return { ...state, posts: editData(state.posts, action.payload._id, action.payload) };\r\n    }\r\n    case POST_TYPES.DELETE_POST: {\r\n      return { ...state, posts: deleteData(state.posts, action.payload._id) };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default postReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\nconst initialState = false;\r\n\r\nconst modalReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.MODAL:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default modalReducer;\r\n","import { POST_TYPES } from '../actions/postAction';\r\nimport { editData } from '../actions/globalTypes';\r\n\r\nconst detailPostReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case POST_TYPES.GET_POST: {\r\n      return [...state, action.payload];\r\n    }\r\n    case POST_TYPES.UPDATE_POST: {\r\n      return editData(state, action.payload._id, action.payload);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default detailPostReducer;\r\n","import { DISCOVER_TYPES } from '../actions/discoverAction';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  posts: [],\r\n  result: 0,\r\n  page: 2,\r\n  firstLoad: false,\r\n};\r\nconst discoverReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case DISCOVER_TYPES.LOADING_DISCOVER: {\r\n      return { ...state, loading: action.payload };\r\n    }\r\n    case DISCOVER_TYPES.GET_POSTS: {\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        firstLoad: true,\r\n      };\r\n    }\r\n    case DISCOVER_TYPES.UPDATE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        page: state.page + 1,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default discoverReducer;\r\n","import { SUGGESTION_TYPES } from '../actions/suggestionAction';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  users: [],\r\n};\r\n\r\nconst suggestionReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SUGGESTION_TYPES.LOADING: {\r\n      return { ...state, loading: action.payload };\r\n    }\r\n    case SUGGESTION_TYPES.GET_USERS: {\r\n      return { ...state, users: action.payload.users };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default suggestionReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst socketReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.SOCKET:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default socketReducer;\r\n","import { editData } from '../actions/globalTypes';\r\nimport { NOTIFY_TYPES } from '../actions/notifyAction';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  sound: false,\r\n};\r\nconst notifyReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case NOTIFY_TYPES.GET_NOTIFIES: {\r\n      return { ...state, data: action.payload };\r\n    }\r\n    case NOTIFY_TYPES.CREATE_NOTIFY: {\r\n      return { ...state, data: [action.payload, ...state.data] };\r\n    }\r\n    case NOTIFY_TYPES.REMOVE_NOTIFY: {\r\n      return {\r\n        ...state,\r\n        data: state.data.filter(\r\n          (item) => item.id !== action.payload.id || item.url !== action.payload.url\r\n        ),\r\n      };\r\n    }\r\n    case NOTIFY_TYPES.UPDATE_NOTIFY: {\r\n      return { ...state, data: editData(state.data, action.payload._id, action.payload) };\r\n    }\r\n    case NOTIFY_TYPES.UPDATE_SOUND: {\r\n      if (action.payload === false) {\r\n        localStorage.removeItem('Instawhine_notification');\r\n      } else {\r\n        localStorage.setItem('Instawhine_notification', 'true');\r\n      }\r\n      return { ...state, sound: action.payload };\r\n    }\r\n    case NOTIFY_TYPES.DELETE_ALL_NOTIFIES: {\r\n      return { ...state, data: action.payload };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default notifyReducer;\r\n","import { deleteData, editData } from '../actions/globalTypes';\r\nimport { MESS_TYPES } from '../actions/messageAction';\r\n\r\nconst initialState = {\r\n  users: [],\r\n  resultUsers: 0,\r\n  data: [],\r\n  resultData: 0,\r\n  firstLoad: false,\r\n};\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case MESS_TYPES.ADD_USER: {\r\n      if (state.users.every((item) => item._id !== action.payload._id)) {\r\n        return { ...state, users: [action.payload, ...state.users] };\r\n      }\r\n      return state;\r\n    }\r\n\r\n    case MESS_TYPES.ADD_MESSAGE: {\r\n      return {\r\n        ...state,\r\n        data: state.data.map((item) =>\r\n          item._id === action.payload.recipient || item._id === action.payload.sender\r\n            ? { ...item, messages: [...item.messages, action.payload], result: item.result + 1 }\r\n            : item\r\n        ),\r\n        users: state.users.map((user) =>\r\n          user._id === action.payload.recipient || user._id === action.payload.sender\r\n            ? {\r\n                ...user,\r\n                text: action.payload.text,\r\n                media: action.payload.media,\r\n                call: action.payload.call,\r\n              }\r\n            : user\r\n        ),\r\n      };\r\n    }\r\n    case MESS_TYPES.GET_CONVERSATIONS: {\r\n      return {\r\n        ...state,\r\n        users: action.payload.newArr,\r\n        resultUsers: action.payload.result,\r\n        firstLoad: true,\r\n      };\r\n    }\r\n    case MESS_TYPES.GET_MESSAGES: {\r\n      return {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n      };\r\n    }\r\n    case MESS_TYPES.UPDATE_MESSAGES: {\r\n      return { ...state, data: editData(state.data, action.payload._id, action.payload) };\r\n    }\r\n    case MESS_TYPES.DELETE_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: state.data.map((item) =>\r\n          item._id === action.payload._id ? { ...item, messages: action.payload.newData } : item\r\n        ),\r\n      };\r\n    case MESS_TYPES.DELETE_CONVERSATION: {\r\n      return {\r\n        ...state,\r\n        users: deleteData(state.users, action.payload),\r\n        data: deleteData(state.data, action.payload),\r\n      };\r\n    }\r\n    case MESS_TYPES.CHECK_USER_OFFLINE: {\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) =>\r\n          action.payload.includes(user._id) ? { ...user, online: true } : { ...user, online: false }\r\n        ),\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default messageReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst onlineReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.ONLINE: {\r\n      return [...state, action.payload];\r\n    }\r\n    case GLOBALTYPES.OFFLINE: {\r\n      return state.filter((item) => item !== action.payload);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default onlineReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nexport const CALL_TYPES = {};\r\n\r\nconst callReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.CALL: {\r\n      return action.payload;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default callReducer;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\nconst peerReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.PEER: {\r\n      return action.payload;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default peerReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport auth from './authReducer';\r\nimport alert from './alertReducer';\r\nimport theme from './themeReducer';\r\nimport profile from './profileReducer';\r\nimport status from './statusReducer';\r\nimport homePosts from './postReducer';\r\nimport modal from './modalReducer';\r\nimport detailPost from './detailPostReducer';\r\nimport discover from './discoverReducer';\r\nimport suggestion from './suggestionReducer';\r\nimport socket from './socketReducer';\r\nimport notify from './notifyReducer';\r\nimport message from './messageReducer';\r\nimport online from './onlineReducer';\r\nimport call from './callReducer';\r\nimport peer from './peerReducer';\r\nexport default combineReducers({\r\n  auth,\r\n  alert,\r\n  theme,\r\n  profile,\r\n  status,\r\n  homePosts,\r\n  modal,\r\n  detailPost,\r\n  discover,\r\n  suggestion,\r\n  socket,\r\n  notify,\r\n  message,\r\n  online,\r\n  call,\r\n  peer,\r\n});\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/index';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\n//this Provider MUST be in root index as wrapper;\r\nconst DataProvider = ({ children }) => {\r\n  return <Provider store={store}>{children}</Provider>;\r\n};\r\nexport default DataProvider;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/global.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport DataProvider from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <DataProvider>\n      <App />\n    </DataProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export const imageShow = (src, theme, width = '100%') => {\r\n  return (\r\n    <img\r\n      src={src}\r\n      alt=\"images\"\r\n      style={{\r\n        width: `${width}`,\r\n        filter: theme ? 'invert(1)' : 'invert(0)',\r\n        borderRadius: '16px',\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const videoShow = (src, theme, width = '100%') => {\r\n  return (\r\n    <video\r\n      controls\r\n      src={src}\r\n      alt=\"images\"\r\n      style={{\r\n        width: `${width}`,\r\n        filter: theme ? 'invert(1)' : 'invert(0)',\r\n      }}\r\n    />\r\n  );\r\n};\r\n","export const GLOBALTYPES = {\r\n  AUTH: 'AUTH',\r\n  ALERT: 'ALERT',\r\n  THEME: 'THEME',\r\n  STATUS: 'STATUS',\r\n  MODAL: 'MODAL',\r\n  SOCKET: 'SOCKET',\r\n  ONLINE: 'ONLINE',\r\n  OFFLINE: 'OFFLINE',\r\n  CALL: 'CALL',\r\n  PEER: 'PEER',\r\n};\r\n\r\nexport const editData = (data, id, modifiedData) => {\r\n  const newData = data.map((item) => (item._id !== id ? item : modifiedData));\r\n  return newData;\r\n};\r\n\r\nexport const deleteData = (data, id) => {\r\n  const newData = data.filter((item) => item._id !== id);\r\n  return newData;\r\n};\r\n","export const checkImageUpload = (file) => {\r\n  let err = '';\r\n  if (!file) err = 'File does not exist.';\r\n  //if file > 1mb => reject\r\n  if (file.size > 1024 * 1024) err = 'The largest size of image is 1mb.';\r\n  //check format\r\n  if (file.type !== 'image/jpeg' && file.type !== 'image/png')\r\n    err = 'File format must be JPEG or PNG.';\r\n  return err;\r\n};\r\n\r\nexport const imageUpload = async (images) => {\r\n  //FIRST: set up Cloudinary\r\n  let imgArr = [];\r\n  for (const item of images) {\r\n    const formData = new FormData();\r\n    if (item.camera) {\r\n      formData.append('file', item.camera);\r\n    } else {\r\n      formData.append('file', item);\r\n    }\r\n\r\n    //cpfj5eol is preset name in cloudinary;\r\n    //cloud name in dashboard\r\n    //upload url: API image upload\r\n    formData.append('upload_preset', 'cpfj5eol');\r\n    formData.append('cloud_name', 'cloudinarystore');\r\n\r\n    const res = await fetch('https://api.cloudinary.com/v1_1/cloudinarystore/upload', {\r\n      method: 'POST',\r\n      body: formData,\r\n    });\r\n    const data = await res.json();\r\n    imgArr.push({ public_id: data.public_id, url: data.secure_url });\r\n  }\r\n  return imgArr;\r\n};\r\n","import React from 'react';\r\n\r\nconst LoadMoreBtn = ({ result, load, handleLoadMore, page }) => {\r\n  return (\r\n    <>\r\n      {result < 9 * (page - 1)\r\n        ? ''\r\n        : !load && (\r\n            <button className=\"btn btn-dark mx-auto d-block load_more\" onClick={handleLoadMore}>\r\n              Load more\r\n            </button>\r\n          )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoadMoreBtn;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { follow, unfollow } from '../redux/actions/profileAction';\r\nconst FollowBtn = ({ user }) => {\r\n  const { auth, profile, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [followed, setFollowed] = useState(false);\r\n\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auth.user.following.find((item) => item._id === user._id)) {\r\n      setFollowed(true);\r\n    }\r\n    return () => setFollowed(false);\r\n  }, [auth.user.following, user._id]);\r\n\r\n  const handleFollow = async () => {\r\n    if (load) {\r\n      return;\r\n    }\r\n    setFollowed(true);\r\n    setLoad(true);\r\n    await dispatch(follow({ users: profile.users, user, auth, socket }));\r\n    setLoad(false);\r\n  };\r\n  const handleUnFollow = async () => {\r\n    setFollowed(false);\r\n    setLoad(true);\r\n    await dispatch(unfollow({ users: profile.users, user, auth, socket }));\r\n    setLoad(false);\r\n  };\r\n  return (\r\n    <>\r\n      {followed ? (\r\n        <button className=\"btn btn-outline-danger\" onClick={handleUnFollow}>\r\n          Unfollow\r\n        </button>\r\n      ) : (\r\n        <button className=\"btn btn-outline-info\" onClick={handleFollow}>\r\n          Follow\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FollowBtn;\r\n","const valid = ({ email, password, fullName, username, gender, confirmPassword }) => {\r\n  const err = {};\r\n  function validateEmail(email) {\r\n    const re =\r\n      /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n  }\r\n\r\n  if (!fullName) {\r\n    err.fullName = 'Please add your full name.';\r\n  } else if (fullName.length <= 1) {\r\n    err.fullName = 'Full name must be at least 2 characters.';\r\n  } else if (fullName.length > 20) {\r\n    err.fullName = 'Maximum characters is 20.';\r\n  }\r\n\r\n  if (!username) {\r\n    err.username = 'Please add your full name.';\r\n  } else if (username.replace(/ /g, '').length > 20) {\r\n    err.username = 'Maximum characters is 20.';\r\n  }\r\n\r\n  if (!email) {\r\n    err.email = 'Please add your email.';\r\n  } else if (!validateEmail(email)) {\r\n    err.email = 'Email format is incorrect.';\r\n  }\r\n\r\n  if (!password) {\r\n    err.password = 'Please add your password.';\r\n  } else if (password.length < 6) {\r\n    err.password = 'Password must be at least 6 characters.';\r\n  }\r\n\r\n  if (password !== confirmPassword) {\r\n    err.confirmPassword = 'Confirm password did not match.';\r\n  }\r\n\r\n  return {\r\n    errMsg: err,\r\n    errLength: Object.keys(err).length,\r\n  };\r\n};\r\n\r\nexport default valid;\r\n","import { postDataAPI } from '../../utils/fetchData';\r\nimport { GLOBALTYPES } from './globalTypes';\r\nimport valid from '../../utils/valid';\r\n\r\nexport const login = (data) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n    const res = await postDataAPI('login', data);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: { token: res.data.access_token, user: res.data.user },\r\n    });\r\n\r\n    localStorage.setItem('firstLogin', true);\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\n\r\nexport const refreshToken = (data) => async (dispatch) => {\r\n  const firstLogin = localStorage.getItem('firstLogin');\r\n  if (firstLogin) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    try {\r\n      const res = await postDataAPI('refresh_token');\r\n\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: { token: res.data.access_token, user: res.data.user },\r\n      });\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false } });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  }\r\n};\r\n\r\nexport const register = (data) => async (dispatch) => {\r\n  try {\r\n    const check = valid(data);\r\n\r\n    if (check.errLength > 0) {\r\n      return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\r\n    }\r\n\r\n    //register\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    const res = await postDataAPI('register', data);\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: { token: res.data.access_token, user: res.data.user },\r\n    });\r\n\r\n    localStorage.setItem('firstLogin', true);\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    localStorage.removeItem('firstLogin');\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    await postDataAPI('logout');\r\n    window.location.href = '/';\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\n","import { getDataAPI } from '../../utils/fetchData';\r\nimport { GLOBALTYPES } from './globalTypes';\r\n\r\nexport const SUGGESTION_TYPES = {\r\n  LOADING: 'LOADING_SUGGES',\r\n  GET_USERS: 'GET_USERS_SUGGES',\r\n};\r\n\r\nexport const getSuggestions = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: SUGGESTION_TYPES.LOADING, payload: true });\r\n\r\n    const res = await getDataAPI('suggestionsUser', token);\r\n    dispatch({ type: SUGGESTION_TYPES.GET_USERS, payload: res.data });\r\n\r\n    dispatch({ type: SUGGESTION_TYPES.LOADING, payload: false });\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { err: err.response.data.msg } });\r\n  }\r\n};\r\n","import { GLOBALTYPES } from './globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\n\r\nexport const DISCOVER_TYPES = {\r\n  LOADING_DISCOVER: 'LOADING_DISCOVER',\r\n  GET_POSTS: 'GET_DISCOVER_POSTS',\r\n  UPDATE_POST: 'UPDATE_DISCOVER_POST',\r\n};\r\n\r\nexport const getDiscoverPosts =\r\n  ({ auth }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: DISCOVER_TYPES.LOADING_DISCOVER, payload: true });\r\n    try {\r\n      const res = await getDataAPI('post_discover', auth.token);\r\n\r\n      dispatch({ type: DISCOVER_TYPES.GET_POSTS, payload: res.data });\r\n\r\n      dispatch({ type: DISCOVER_TYPES.LOADING_DISCOVER, payload: false });\r\n    } catch (err) {\r\n      dispatch({ types: GLOBALTYPES.ALERT, payload: { err: err.response.data.msg } });\r\n    }\r\n  };\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst PostThumb = ({ posts, result }) => {\r\n  const { theme } = useSelector((state) => state);\r\n  if (result === 0)\r\n    return (\r\n      <div className=\"text-center teoxt-danger\">\r\n        <span style={{ fontSize: '18px', fontWeight: '600' }}>\r\n          Start capturing and sharing your moments!\r\n        </span>\r\n      </div>\r\n    );\r\n  return (\r\n    <div className=\"post_thumb\">\r\n      {posts.map((post) => {\r\n        return (\r\n          <Link key={post._id} to={`/post/${post._id}`}>\r\n            <div className=\"post_thumb_display\">\r\n              {post.images[0].url.match(/video/i) ? (\r\n                <video\r\n                  src={post.images[0].url}\r\n                  alt={`post video ${post.images[0].url}`}\r\n                  style={{\r\n                    filter: theme ? 'invert(1)' : 'invert(0)',\r\n                  }}\r\n                />\r\n              ) : (\r\n                <img\r\n                  src={post.images[0].url}\r\n                  alt={`post img ${post.images[0].url}`}\r\n                  style={{\r\n                    filter: theme ? 'invert(1)' : 'invert(0)',\r\n                  }}\r\n                />\r\n              )}\r\n              <div className=\"post_thumb_menu\">\r\n                <i className=\"far fa-heart\">{post.likes.length}</i>\r\n                <i className=\"far fa-comment\">{post.comments.length}</i>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostThumb;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Icons = ({ content, setContent }) => {\r\n  const { theme } = useSelector((state) => state);\r\n  const reactions = [\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '#',\r\n    '*',\r\n    '0',\r\n    '1',\r\n    '2',\r\n    '3',\r\n    '4',\r\n    '5',\r\n    '6',\r\n    '7',\r\n    '8',\r\n    '9',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n  ];\r\n  return (\r\n    <div\r\n      className=\"nav-item dropdown\"\r\n      style={{\r\n        opacity: 1,\r\n        filter: theme ? 'invert(1)' : 'invert(0)',\r\n      }}\r\n    >\r\n      <span\r\n        className=\"nav-link position-relative px-0\"\r\n        id=\"navbarDropdown\"\r\n        role=\"button\"\r\n        data-toggle=\"dropdown\"\r\n        aria-haspopup=\"true\"\r\n        aria-expanded=\"false\"\r\n      >\r\n        <span style={{ opacity: 0.4, filter: theme ? 'invert(0)' : 'invert(0)' }}></span>\r\n      </span>\r\n      <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n        <div className=\"reactions\">\r\n          {reactions.map((icon, index) => {\r\n            return (\r\n              <span key={index} onClick={() => setContent(content + icon)}>\r\n                {icon}\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Icons;\r\n","import React from 'react';\r\nimport LeftSide from '../../components/message/LeftSide';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Message = () => {\r\n  const { theme } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"d-flex message\">\r\n      <div className=\"col-md-4 border-right px-0\">\r\n        <LeftSide />\r\n      </div>\r\n      <div className=\"col-md-8 px-0 right_mess\">\r\n        <div className=\"d-flex justify-content-center align-items-center flex-column h-100 \">\r\n          <i\r\n            className=\"fab fa-facebook-messenger text-primary\"\r\n            style={{ fontSize: '5rem', filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n          />\r\n          <h4>Messenger</h4>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import axios from 'axios';\r\n\r\n//token is access token => must attach in every request's header.\r\n\r\nexport const getDataAPI = async (url, token) => {\r\n  const res = await axios.get(`/api/${url}`, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const postDataAPI = async (url, post, token) => {\r\n  const res = await axios.post(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const putDataAPI = async (url, post, token) => {\r\n  const res = await axios.put(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const patchDataAPI = async (url, post, token) => {\r\n  const res = await axios.patch(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const deleteDataAPI = async (url, token) => {\r\n  const res = await axios.delete(`/api/${url}`, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { login } from '../redux/actions/authAction';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nconst Login = () => {\r\n  const history = useHistory();\r\n\r\n  const initialState = { email: '', password: '' };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { email, password } = userData;\r\n  const [typePass, setTypePass] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) return history.push('/');\r\n  }, [auth, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(login(userData));\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h3 className=\"text-uppercase text-center mb-5\">Instawhine</h3>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            onChange={handleChangeInput}\r\n            value={email}\r\n            name=\"email\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n          <div className=\"pass\">\r\n            <input\r\n              name=\"password\"\r\n              type={typePass ? 'text' : 'password'}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={handleChangeInput}\r\n              value={password}\r\n            />\r\n            <small onClick={() => setTypePass(!typePass)}>{typePass ? 'Hide' : 'Show'}</small>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-dark w-100\"\r\n          disabled={email && password ? false : true}\r\n        >\r\n          Login\r\n        </button>\r\n        <p className=\"my-2\">\r\n          Don't have an account? <Link to=\"/register\">Register now</Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { register } from '../redux/actions/authAction';\r\n\r\nconst Register = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { auth, alert } = useSelector((state) => state);\r\n\r\n  const initialState = {\r\n    email: '',\r\n    password: '',\r\n    fullName: '',\r\n    username: '',\r\n    gender: 'male',\r\n    confirmPassword: '',\r\n  };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { email, password, fullName, username, confirmPassword } = userData;\r\n  const [typePass, setTypePass] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) return history.push('/');\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(register(userData));\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h3 className=\"text-uppercase text-center mb-5\">Instawhine</h3>\r\n        <div className=\"mb-3\" style={{ display: 'flex' }}>\r\n          <div className=\"col-8\" style={{ paddingRight: '10px' }}>\r\n            <label htmlFor=\"fullName\">Full Name</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleChangeInput}\r\n              value={fullName}\r\n              name=\"fullName\"\r\n              id=\"fullName\"\r\n              style={{\r\n                border: alert.fullName ? 'solid 1px red' : '',\r\n                background: alert.fullName ? '#fd2d6a14' : '',\r\n              }}\r\n            />\r\n            <small\r\n              className=\"form-text\"\r\n              style={{\r\n                color: alert.fullName ? 'red ' : '',\r\n                background: alert.fullName ? '#fd2d6a14' : '',\r\n              }}\r\n            >\r\n              {alert.fullName ? alert.fullName : ''}\r\n            </small>\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <label htmlFor=\"gender\">Gender</label>\r\n            <select\r\n              class=\"form-select\"\r\n              aria-label=\"Default select example\"\r\n              onChange={handleChangeInput}\r\n              style={{\r\n                border: alert.gender ? 'solid 1px red' : '',\r\n                background: alert.gender ? '#fd2d6a14' : '',\r\n              }}\r\n            >\r\n              <option value=\"male\" selected>\r\n                Male\r\n              </option>\r\n              <option value=\"female\">Female</option>\r\n              <option value=\"others\">Others</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-3 \">\r\n          <label htmlFor=\"exampleInputEmail1\">User Name</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            onChange={handleChangeInput}\r\n            value={username.toLowerCase().replace(/ /g, '')}\r\n            name=\"username\"\r\n            style={{\r\n              border: alert.username ? 'solid 1px red' : '',\r\n              background: alert.username ? '#fd2d6a14' : '',\r\n            }}\r\n          />\r\n          <small className=\"form-text\" style={{ color: alert.username ? 'red' : '' }}>\r\n            {alert.username ? alert.username : ''}\r\n          </small>\r\n          <ul className=\"mt-2\" style={{ margin: 0, paddingLeft: '1em' }}>\r\n            <li>Username must be in lower case</li>\r\n            <li>Username must have no space</li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"email\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"email\"\r\n            aria-describedby=\"emailHelp\"\r\n            onChange={handleChangeInput}\r\n            value={email}\r\n            name=\"email\"\r\n            style={{\r\n              border: alert.email ? 'solid 1px red' : '',\r\n              background: alert.email ? '#fd2d6a14' : '',\r\n            }}\r\n          />\r\n          <small className=\"form-text\" style={{ color: alert.email ? 'red' : '' }}>\r\n            {alert.email ? alert.email : ''}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <div className=\"pass\">\r\n            <input\r\n              name=\"password\"\r\n              type={typePass ? 'text' : 'password'}\r\n              className=\"form-control\"\r\n              id=\"password\"\r\n              onChange={handleChangeInput}\r\n              value={password}\r\n              style={{\r\n                border: alert.password ? 'solid 1px red' : '',\r\n                background: alert.password ? '#fd2d6a14' : '',\r\n              }}\r\n            />\r\n            <small onClick={() => setTypePass(!typePass)}>{typePass ? 'Hide' : 'Show'}</small>\r\n          </div>\r\n          <small className=\"form-text\" style={{ color: alert.password ? 'red' : '' }}>\r\n            {alert.password ? alert.password : ''}\r\n          </small>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"confirmPassword\">Confirmed password</label>\r\n          <div className=\"pass\">\r\n            <input\r\n              name=\"confirmPassword\"\r\n              type={typePass ? 'text' : 'password'}\r\n              className=\"form-control\"\r\n              id=\"confirmPassword\"\r\n              aria-describedby=\"confirmPassHelp\"\r\n              onChange={handleChangeInput}\r\n              value={confirmPassword}\r\n              style={{\r\n                border: alert.confirmPassword ? 'solid 1px red' : '',\r\n                background: alert.confirmPassword ? '#fd2d6a14' : '',\r\n              }}\r\n            />\r\n            <small onClick={() => setTypePass(!typePass)}>{typePass ? 'Hide' : 'Show'}</small>\r\n          </div>\r\n          <small className=\"form-text\" style={{ color: alert.confirmPassword ? 'red' : '' }}>\r\n            {alert.confirmPassword ? alert.confirmPassword : ''}\r\n          </small>\r\n          <div id=\"confirmPassHelp\">Ensure confirm password matches password!</div>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-dark w-100 mt-1\"\r\n          disabled={email && password ? false : true}\r\n        >\r\n          Register\r\n        </button>\r\n        <p className=\"my-2\">\r\n          Already have an account? <Link to=\"/\">Login now</Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport Avatar from '../Avatar';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\n\r\nconst Status = () => {\r\n  const dispatch = useDispatch();\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  return (\r\n    <div className=\"status my-3 d-flex\">\r\n      <Avatar src={auth.user.avatar} size=\"big-avatar\" />\r\n      <button\r\n        className=\"statusBtn flex-fill\"\r\n        style={{ marginLeft: '5px' }}\r\n        onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}\r\n      >\r\n        {auth.user.userName}, What's on your mind now?\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Status;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { POST_TYPES } from '../../redux/actions/postAction';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\nimport LoadingLottie from '../LoadingLottie';\r\nimport LoadMoreBtn from '../LoadMoreBtn';\r\nimport PostCard from '../PostCard';\r\n\r\nconst Posts = () => {\r\n  const dispatch = useDispatch();\r\n  const { homePosts, auth, theme } = useSelector((state) => state);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token);\r\n    dispatch({ type: POST_TYPES.GET_POSTS, payload: { ...res.data, page: homePosts.page + 1 } });\r\n    setLoad(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"posts\">\r\n      {homePosts.posts.map((post) => {\r\n        return <PostCard post={post} key={post._id} theme={theme} />;\r\n      })}\r\n      {load && <LoadingLottie />}\r\n\r\n      {!load && (\r\n        <LoadMoreBtn\r\n          result={homePosts.result}\r\n          page={homePosts.page}\r\n          load={load}\r\n          handleLoadMore={handleLoadMore}\r\n        />\r\n      )}\r\n      <br />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React, { useEffect } from 'react';\r\nimport UserCard from '../UserCard';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport FollowBtn from '../FollowBtn';\r\nimport { getSuggestions } from '../../redux/actions/suggestionAction';\r\nimport LoadingLottie from '../LoadingLottie';\r\n\r\nconst RightSideBar = () => {\r\n  const dispatch = useDispatch();\r\n  const { auth, suggestion } = useSelector((state) => state);\r\n\r\n  return (\r\n    <div style={{ marginBottom: '4em' }}>\r\n      <UserCard user={auth.user} />\r\n      <div className=\"d-flex justify-content-between align-items-center my-2\">\r\n        <h5 style={{ color: 'rgb(13, 202, 240)' }}>Suggestions for you</h5>\r\n        {!suggestion.loading && (\r\n          <i\r\n            className=\"fas fa-redo\"\r\n            style={{ cursor: 'pointer' }}\r\n            onClick={() => dispatch(getSuggestions(auth.token))}\r\n          />\r\n        )}\r\n      </div>\r\n      {suggestion.loading ? (\r\n        <LoadingLottie />\r\n      ) : (\r\n        <div className=\"suggestions\">\r\n          {suggestion.users.map((user) => {\r\n            return (\r\n              <div style={{ position: 'relative' }} key={user._id}>\r\n                <UserCard user={user} />\r\n                <div style={{ position: 'absolute', top: '1em', right: '50px' }}>\r\n                  <FollowBtn user={user} />\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n      <div className=\"accordion\">\r\n        <div\r\n          className=\"card\"\r\n          style={{ border: '1px solid rgb(13, 202, 240)', borderRadius: '0 0 1em 1em' }}\r\n        >\r\n          <div className=\"card-header\" style={{ backgroundColor: '#F1F6FA' }}>\r\n            <h2 className=\"mb-0\">\r\n              <button\r\n                className=\"btn btn-link\"\r\n                type=\"button\"\r\n                data-toggle=\"collapse\"\r\n                data-target=\"#collapseCredits\"\r\n                aria-expanded=\"true\"\r\n                aria-controls=\"collapseCredits\"\r\n              >\r\n                Credits\r\n              </button>\r\n            </h2>\r\n          </div>\r\n          <div\r\n            id=\"collapseCredits\"\r\n            className=\"collapse show\"\r\n            style={{\r\n              backgroundColor: '#F1F6FA',\r\n              borderRadius: '0 0 1em 1em',\r\n            }}\r\n          >\r\n            <div\r\n              className=\"card-body\"\r\n              style={{\r\n                zIndex: -1,\r\n                padding: '1em',\r\n              }}\r\n            >\r\n              <p>\r\n                Hi there! Thank you for the visiting! Im{' '}\r\n                <a href=\"https://github.com/nnguyen52\" target=\"_blank\" rel=\"noreferrer\">\r\n                  Jer Ngn\r\n                </a>\r\n                . I love learning to make web app with sophisticated texhnology like ReactJS lib.\r\n                This project i learned from a very talented senior developer (credit below).If you\r\n                are interested in fullstack applications, i highly recommend you to visit DevAT's\r\n                lessons. He tutors many great intermediate techniques such as MERN, redux,\r\n                authentication, Nextjs and well applied to projects such as this project and\r\n                ECommerce.\r\n              </p>\r\n              <a href=\"https://github.com/devat-youtuber\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                Original source code from\r\n                <b style={{ textDecoration: 'underline', wordBreak: 'break-all' }}>\r\n                  Dev A.T Viet Nam\r\n                </b>\r\n                &nbsp;(senior developer)\r\n              </a>\r\n              <br />\r\n              <p className=\"mt-2\">\r\n                <b>Note: </b>\r\n                This project completely is based on Dev A.T's works and made for the sake of\r\n                learning and experimenting. However, further improvements will be implemented if\r\n                viable.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RightSideBar;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Status from '../components/home/Status';\r\nimport Posts from '../components/home/Posts';\r\nimport Loading from '../components/LoadingLottie';\r\nimport RightSideBar from '../components/home/RightSideBar';\r\n\r\nlet scroll = 0;\r\n\r\nconst Home = () => {\r\n  const { homePosts } = useSelector((state) => state);\r\n  window.addEventListener('scroll', () => {\r\n    if (window.location.pathname === '/') {\r\n      scroll = window.pageYOffset;\r\n      return scroll;\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      window.scrollTo({ top: scroll, behavior: 'smooth' });\r\n    }, 100);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home row mx-0\">\r\n      <div className=\"col-md-8\">\r\n        <Status />\r\n        {homePosts.loading ? (\r\n          <>\r\n            <Loading />\r\n          </>\r\n        ) : homePosts.result === 0 && homePosts.posts.length === 0 ? (\r\n          <div>\r\n            <h6> Lets share something! Your feed is empty...</h6>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <Posts />\r\n          </>\r\n        )}\r\n      </div>\r\n      <div className=\"col-md-4\">\r\n        <RightSideBar />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport UserCard from '../UserCard';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport { getConversations, MESS_TYPES } from '../../redux/actions/messageAction';\r\n\r\nconst LeftSide = () => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { auth, message, online } = useSelector((state) => state);\r\n\r\n  const [search, setSearch] = useState('');\r\n  const [searchusers, setSearchUsers] = useState([]);\r\n\r\n  const pageEnd = useRef();\r\n  const [page, setPage] = useState(1);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!search) {\r\n      return setSearchUsers([]);\r\n    }\r\n    try {\r\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\r\n      setSearchUsers(res.data.users);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\n  const handleAddUser = (user) => {\r\n    setSearch('');\r\n    setSearchUsers([]);\r\n    dispatch({ type: MESS_TYPES.ADD_USER, payload: { ...user, text: '', media: [] } });\r\n    dispatch({ type: MESS_TYPES.CHECK_USER_OFFLINE, payload: online });\r\n    return history.push(`/message/${user._id}`);\r\n  };\r\n\r\n  const isActive = (user) => {\r\n    if (id === user._id) return 'active';\r\n    return '';\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (message.firstLoad) return;\r\n    dispatch(getConversations({ auth }));\r\n  }, [dispatch, auth, message.firstLoad]);\r\n\r\n  //load more\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting) {\r\n          setPage((p) => p + 1);\r\n        }\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n    observer.observe(pageEnd.current);\r\n  }, [setPage]);\r\n\r\n  useEffect(() => {\r\n    if (message.resultUsers >= (page - 1) * 9 && page > 1) {\r\n      dispatch(getConversations({ auth, page }));\r\n    }\r\n  }, [message.resultUsers, page, auth, dispatch]);\r\n\r\n  // check user online-offline\r\n  useEffect(() => {\r\n    if (message.firstLoad) {\r\n      dispatch({ type: MESS_TYPES.CHECK_USER_OFFLINE, payload: online });\r\n    }\r\n  }, [online, message.firstLoad, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <form className=\"message_header\" onSubmit={handleSearch}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          style={{ textIndent: '5px' }}\r\n        />\r\n        <button type=\"submit\" style={{ display: 'none' }}>\r\n          Search\r\n        </button>\r\n      </form>\r\n\r\n      <div className=\"message_chat_list\">\r\n        <div>\r\n          {searchusers.length !== 0 ? (\r\n            <>\r\n              {searchusers.map((user, index) => {\r\n                return (\r\n                  <div\r\n                    key={index}\r\n                    className={`message_user ${isActive(user)}`}\r\n                    onClick={(e) => handleAddUser(user)}\r\n                  >\r\n                    <UserCard user={user} />\r\n                  </div>\r\n                );\r\n              })}\r\n            </>\r\n          ) : (\r\n            <>\r\n              {message.users.map((user, index) => {\r\n                return (\r\n                  <div\r\n                    key={index}\r\n                    className={`message_user ${isActive(user)}`}\r\n                    onClick={(e) => handleAddUser(user)}\r\n                  >\r\n                    <UserCard user={user} msg={true}>\r\n                      {user.online ? (\r\n                        <i className=\"fas fa-circle text-success\" />\r\n                      ) : (\r\n                        auth.user.following.find((item) => item._id === user._id) && (\r\n                          <i className=\"fas fa-circle\" />\r\n                        )\r\n                      )}\r\n                    </UserCard>\r\n                  </div>\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n          <button ref={pageEnd} style={{ opacity: 0 }}>\r\n            Load more\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LeftSide;\r\n","export const BASE_URL = 'http://localhost:3000';\r\n","import React from 'react';\r\nimport Avatar from '../../Avatar';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { GLOBALTYPES } from '../../../redux/actions/globalTypes';\r\nimport { deletePost } from '../../../redux/actions/postAction';\r\nimport { BASE_URL } from '../../../utils/config';\r\n\r\nconst CardHeader = ({ post }) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { auth, socket } = useSelector((state) => state);\r\n\r\n  const handleEditPost = () => {\r\n    dispatch({ type: GLOBALTYPES.STATUS, payload: { ...post, onEdit: true } });\r\n  };\r\n\r\n  const handleDeletePost = async () => {\r\n    if (window.confirm('Are you want to delete this post?')) {\r\n      await dispatch(deletePost({ post, auth, socket }));\r\n      return history.push(`/`);\r\n    }\r\n  };\r\n\r\n  const handleCopyLink = async () => {\r\n    await navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`);\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: 'Copied post link!' } });\r\n  };\r\n\r\n  return (\r\n    <div className=\"card_header\">\r\n      <div className=\"d-flex \">\r\n        <Avatar src={post.user.avatar} size=\"big-avatar\" />\r\n        <div className=\"card_name ml-2\">\r\n          <h6 className=\"m-0\">\r\n            <Link to={`/profile/${post.user._id}`} className=\"text-dark\">\r\n              {post.user.userName}\r\n            </Link>\r\n          </h6>\r\n          <small className=\"text-muted\">{moment(post.createdAt).fromNow()}</small>\r\n        </div>\r\n      </div>\r\n      <div className=\"nav-item dropdown\">\r\n        <span\r\n          className=\"material-icons\"\r\n          id=\"moreLink\"\r\n          data-bs-toggle=\"dropdown\"\r\n          data-toggle=\"dropdown\"\r\n        >\r\n          more_horiz\r\n        </span>\r\n        <div className=\"dropdown-menu\">\r\n          {auth.user._id === post.user._id && (\r\n            <>\r\n              <div className=\"dropdown-item\" onClick={handleEditPost}>\r\n                <span className=\"material-icons\">create</span> Edit post\r\n              </div>\r\n              <div className=\"dropdown-item\" onClick={handleDeletePost}>\r\n                <span className=\"material-icons\">delete_outline</span> Remove post\r\n              </div>\r\n            </>\r\n          )}\r\n          <div className=\"dropdown-item\" onClick={handleCopyLink}>\r\n            <span className=\"material-icons\">content_copy</span> Copy link\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardHeader;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { likePost } from '../redux/actions/postAction';\r\n\r\nconst Carousel = ({ post, images, id }) => {\r\n  const dispatch = useDispatch();\r\n  const { theme, auth, socket } = useSelector((state) => state);\r\n\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n\r\n  const handleLike = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(true);\r\n    setLoadLike(true);\r\n    await dispatch(likePost({ post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const isActive = (index) => {\r\n    if (index === 0) return 'active';\r\n  };\r\n\r\n  const handleClick = async (e, post, img) => {\r\n    switch (e.detail) {\r\n      case 1:\r\n        return;\r\n      case 2:\r\n        {\r\n          const heart = await document.getElementById(`heart-${img}`);\r\n          heart.classList.add('heartStart');\r\n          heart.classList.add('like');\r\n          setTimeout(() => {\r\n            heart.classList.remove('like');\r\n            heart.classList.remove('heartStart');\r\n          }, 1200);\r\n          const isLiked = post.likes.find((like) => like._id === auth.user._id);\r\n          if (isLiked) return;\r\n          handleLike();\r\n        }\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <div id={`image${id}`} className=\"carousel slide\" data-ride=\"carousel\">\r\n        <ol className=\"carousel-indicators\" style={{ zIndex: 1 }}>\r\n          {images.map((img, index) => {\r\n            return (\r\n              <li\r\n                key={index}\r\n                data-target={`#image${id}`}\r\n                data-slide-to=\"0\"\r\n                className={isActive(index)}\r\n              />\r\n            );\r\n          })}\r\n        </ol>\r\n\r\n        <div className=\"carousel-inner\">\r\n          {images.map((img, index) => {\r\n            return (\r\n              <div className={`carousel-item ${isActive(index)}`} key={index}>\r\n                <div\r\n                  id={`heart-${img.url}`}\r\n                  style={{\r\n                    height: '100%',\r\n                    width: '100%',\r\n                    position: 'absolute',\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                  }}\r\n                >\r\n                  <h1>\r\n                    <i className=\"fa fa-heart\" style={{ fontSize: '3em', color: 'white' }}></i>\r\n                  </h1>\r\n                </div>\r\n                {img.url.match(/video/i) ? (\r\n                  <video\r\n                    controls\r\n                    onClick={(e) => handleClick(e, post, img.url)}\r\n                    className={`d-block w-100 carousel-img`}\r\n                    id={img.url}\r\n                    src={img.url}\r\n                    alt=\"image\"\r\n                    style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n                  />\r\n                ) : (\r\n                  <img\r\n                    onClick={(e) => handleClick(e, post, img.url)}\r\n                    className={`d-block w-100 carousel-img`}\r\n                    id={img.url}\r\n                    src={img.url}\r\n                    alt=\"image\"\r\n                    style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n                  />\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        {images.length > 1 && (\r\n          <>\r\n            <a\r\n              className=\"carousel-control-prev\"\r\n              href={`#image${id}`}\r\n              role=\"button\"\r\n              data-slide=\"prev\"\r\n              style={{ width: '5%' }}\r\n            >\r\n              <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n              <span className=\"sr-only\">Previous</span>\r\n            </a>\r\n            <a\r\n              className=\"carousel-control-next\"\r\n              href={`#image${id}`}\r\n              role=\"button\"\r\n              data-slide=\"next\"\r\n              style={{ width: '5%' }}\r\n            >\r\n              <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n              <span className=\"sr-only\">Next</span>\r\n            </a>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Carousel;\r\n","import React, { useState } from 'react';\r\nimport Carousel from '../../Carousel';\r\n\r\nconst CardBody = ({ post, theme }) => {\r\n  const [readMore, setReadmore] = useState(false);\r\n\r\n  return (\r\n    <div className=\"card_body\">\r\n      <div\r\n        className=\"card_body-content\"\r\n        style={{ filter: theme ? 'invert(1)' : 'invert(0)', color: theme ? 'white' : '#111' }}\r\n      >\r\n        <span>\r\n          {post.content.length < 60\r\n            ? post.content\r\n            : readMore\r\n            ? post.content\r\n            : post.content.slice(0, 60) + '...'}\r\n          {post.content.length > 60 && (\r\n            <span\r\n              style={{ color: 'rgb(13, 202, 240)', cursor: 'pointer' }}\r\n              onClick={() => (readMore ? setReadmore(false) : setReadmore(true))}\r\n            >\r\n              {readMore ? ' Hide' : ' Read more'}\r\n            </span>\r\n          )}\r\n        </span>\r\n      </div>\r\n      {post.images.length > 0 && <Carousel post={post} images={post.images} id={post._id} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardBody;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst LikeButton = ({ isLike, handleLike, handleUnLike }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  return (\r\n    <>\r\n      {isLike ? (\r\n        <i\r\n          className=\"fas fa-heart text-danger\"\r\n          onClick={handleUnLike}\r\n          style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n        />\r\n      ) : (\r\n        <i className=\"far fa-heart\" onClick={handleLike} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LikeButton;\r\n","import React from 'react';\r\nimport {\r\n  EmailShareButton,\r\n  EmailIcon,\r\n  FacebookIcon,\r\n  FacebookShareButton,\r\n  TwitterShareButton,\r\n  TwitterIcon,\r\n  RedditShareButton,\r\n  RedditIcon,\r\n  WhatsappShareButton,\r\n  WhatsappIcon,\r\n  LinkedinShareButton,\r\n  LinkedinIcon,\r\n  FacebookMessengerShareButton,\r\n  FacebookMessengerIcon,\r\n} from 'react-share';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst ShareModal = ({ url }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-between px-4 py-2 bg-light\">\r\n      <FacebookShareButton url={url}>\r\n        <FacebookIcon\r\n          round={true}\r\n          size={32}\r\n          style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n        />\r\n      </FacebookShareButton>\r\n      <LinkedinShareButton url={url}>\r\n        <LinkedinIcon\r\n          round={true}\r\n          size={32}\r\n          style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n        />\r\n      </LinkedinShareButton>\r\n      <TwitterShareButton url={url}>\r\n        <TwitterIcon round={true} size={32} style={{ filter: theme ? 'invert(1)' : 'invert(0)' }} />\r\n      </TwitterShareButton>\r\n      <RedditShareButton url={url}>\r\n        <RedditIcon round={true} size={32} style={{ filter: theme ? 'invert(1)' : 'invert(0)' }} />\r\n      </RedditShareButton>\r\n      <FacebookMessengerShareButton url={url}>\r\n        <FacebookMessengerIcon\r\n          round={true}\r\n          size={32}\r\n          style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n        />\r\n      </FacebookMessengerShareButton>\r\n      <WhatsappShareButton url={url}>\r\n        <WhatsappIcon\r\n          round={true}\r\n          size={32}\r\n          style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n        />\r\n      </WhatsappShareButton>\r\n      <EmailShareButton url={url}>\r\n        <EmailIcon round={true} size={32} style={{ filter: theme ? 'invert(1)' : 'invert(0)' }} />\r\n      </EmailShareButton>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShareModal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport LikeButton from '../../LikeButton';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { likePost, savePost, unlikePost, unsavePost } from '../../../redux/actions/postAction';\r\nimport ShareModal from '../../ShareModal';\r\nimport { BASE_URL } from '../../../utils/config';\r\n\r\nconst CardFooter = ({ post }) => {\r\n  const dispatch = useDispatch();\r\n  const { auth, socket } = useSelector((state) => state);\r\n\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n\r\n  const [isShare, setIsShare] = useState(false);\r\n\r\n  const [loadSave, setLoadSave] = useState(false);\r\n  const [saved, setSaved] = useState(false);\r\n\r\n  const handleLike = async () => {\r\n    if (loadLike) return;\r\n    // setIsLike(true);\r\n    setLoadLike(true);\r\n    await dispatch(likePost({ post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleUnLike = async () => {\r\n    if (loadLike) return;\r\n    // setIsLike(false);\r\n    setLoadLike(true);\r\n    await dispatch(unlikePost({ post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleSavePost = async () => {\r\n    if (loadSave) return;\r\n    setLoadSave(true);\r\n    setSaved(true);\r\n    await dispatch(savePost({ post, auth }));\r\n    setLoadSave(false);\r\n  };\r\n  const handleUnsavePost = async () => {\r\n    if (loadSave) return;\r\n    setLoadSave(true);\r\n    setSaved(false);\r\n    await dispatch(unsavePost({ post, auth }));\r\n    setLoadSave(false);\r\n  };\r\n  //likes\r\n  useEffect(() => {\r\n    if (post.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    } else setIsLike(false);\r\n  }, [post.likes, auth.user._id]);\r\n  //saved\r\n  useEffect(() => {\r\n    if (auth.user.saved.find((id) => id === post._id)) {\r\n      return setSaved(true);\r\n    } else return setSaved(false);\r\n  }, [auth.user.saved, post._id]);\r\n\r\n  return (\r\n    <div className=\"card_footer\">\r\n      <div className=\"card_icon_menu\">\r\n        <div>\r\n          <LikeButton isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike} />\r\n          <Link to={`/post/${post._id}`} className=\"text-dark\">\r\n            <i className=\"far fa-comment\" aria-hidden=\"true\"></i>\r\n          </Link>\r\n          <i\r\n            className=\"far fa-paper-plane\"\r\n            aria-hidden=\"true\"\r\n            onClick={() => setIsShare(!isShare)}\r\n          ></i>\r\n        </div>\r\n        {saved ? (\r\n          <i className=\"fas fa-bookmark text-warning\" onClick={handleUnsavePost}></i>\r\n        ) : (\r\n          <i className=\"far fa-bookmark\" onClick={handleSavePost}></i>\r\n        )}\r\n      </div>\r\n      <div className=\"d-flex justify-content-between mx-0\">\r\n        <h6 style={{ padding: '0 25px', cursor: 'pointer' }}>{post.likes.length} likes</h6>\r\n        <h6 style={{ padding: '0 25px', cursor: 'pointer' }}>{post.comments.length} comments</h6>\r\n      </div>\r\n      {isShare && <ShareModal url={`${BASE_URL}/post/${post._id}`} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardFooter;\r\n","import { editData, deleteData, GLOBALTYPES } from './globalTypes';\r\nimport { POST_TYPES } from './postAction';\r\nimport { deleteDataAPI, patchDataAPI, postDataAPI } from '../../utils/fetchData';\r\nimport { createNotify, removeNotify } from './notifyAction';\r\n\r\nexport const createComment = (post, newComment, auth, socket) => async (dispatch) => {\r\n  const newPost = { ...post, comments: [...post.comments, newComment] };\r\n  dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n  try {\r\n    const data = { ...newComment, postId: post._id, postUserId: post.user._id };\r\n    const res = await postDataAPI('comment', data, auth.token);\r\n    const newData = { ...res.data.newComment, user: auth.user };\r\n    const newPost = { ...post, comments: [...post.comments, newData] };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    socket.emit('createComment', newPost);\r\n\r\n    // Notify\r\n    const msg = {\r\n      id: res.data.newComment._id,\r\n      text: newComment.reply ? 'mentioned you in a comment!' : 'has commented on your post!',\r\n      recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\r\n      url: `/post/${post._id}`,\r\n      content: post.content,\r\n      image: post.images[0].url,\r\n    };\r\n    dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\nexport const updateComment =\r\n  ({ comment, post, content, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const newComments = editData(post.comments, comment._id, { ...comment, content });\r\n    const newPost = { ...post, comments: newComments };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    try {\r\n      await patchDataAPI(`comment/${comment._id}`, { content }, auth.token);\r\n      socket.emit('updateComment', newPost);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\nexport const likeComment =\r\n  ({ comment, post, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const newComment = { ...comment, likes: [...comment.likes, auth.user] };\r\n    const newComments = editData(post.comments, comment._id, newComment);\r\n\r\n    const newPost = { ...post, comments: newComments };\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    try {\r\n      await patchDataAPI(`comment/${comment._id}/like`, null, auth.token);\r\n      socket.emit('likeComment', newPost);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const unlikeComment =\r\n  ({ comment, post, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const newComment = {\r\n      ...comment,\r\n      likes: deleteData(comment.likes, auth.user._id),\r\n    };\r\n\r\n    const newComments = editData(post.comments, comment._id, newComment);\r\n\r\n    const newPost = { ...post, comments: newComments };\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    try {\r\n      await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token);\r\n      socket.emit('unlikeComment', newPost);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const deleteComment =\r\n  ({ comment, post, auth, socket }) =>\r\n  async (dispatch) => {\r\n    //get comment itself and children comments (if the comment is parent)\r\n    //by checking if children comments'reply value is the parent id\r\n    const deletedArr = [...post.comments.filter((cm) => cm.reply === comment._id), comment];\r\n\r\n    const newPost = {\r\n      ...post,\r\n      comments: post.comments.filter((cm) => !deletedArr.find((da) => cm._id === da._id)),\r\n    };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    try {\r\n      deletedArr.forEach(async (item) => {\r\n        await deleteDataAPI(`comment/${item._id}`, auth.token);\r\n        socket.emit('deleteComment', newPost);\r\n\r\n        // Notify\r\n        const msg = {\r\n          id: item._id,\r\n          text: comment.reply ? 'mentioned you in a comment!' : 'has commented on your post!',\r\n          recipients: comment.reply ? [comment.tag._id] : [post.user._id],\r\n          url: `/post/${post._id}`,\r\n          content: post.content,\r\n          image: post.images[0].url,\r\n        };\r\n        dispatch(removeNotify({ msg, auth, socket }));\r\n      });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { deleteComment } from '../../../redux/actions/commentAction';\r\n\r\nconst CommentMenu = ({ post, comment, setOnEdit }) => {\r\n  const dispatch = useDispatch();\r\n  const { auth, socket } = useSelector((state) => state);\r\n\r\n  const MenuItem = () => {\r\n    return (\r\n      <>\r\n        <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\r\n          <span className=\"material-icons\">create</span> Edit\r\n        </div>\r\n        <div className=\"dropdown-item\" onClick={handleRemove}>\r\n          <span className=\"material-icons\">delete_outline</span> Remove\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    //handle remove (completely delete from database)\r\n    if (post.user._id === auth.user._id || comment.user._id === auth.user._id) {\r\n      dispatch(deleteComment({ comment, post, auth, socket }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    /**   LOGIC:\r\n     * if user post => full control user comment\r\n     * if user post with stranger comment => can only remove stranger's comment\r\n     * if stranger visit user post => full control only on their own comment.\r\n     */\r\n    <div className=\"menu\">\r\n      {/* if the post not from user or  the comment is from user   */}\r\n      {(post.user._id === auth.user._id || comment.user._id === auth.user._id) && (\r\n        <div className=\"nav-item dropdown\">\r\n          <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\r\n            more_vert\r\n          </span>\r\n          {/* showing toggle menu \r\n          // if the post is user's post \r\n                => check: if the comment is from user => full menu (full control)\r\n                        else show remove (hide)\r\n          // else if post is from stranger \r\n                => check: if the comment is from user => full menu (full control)\r\n*/}\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\r\n            {post.user._id === auth.user._id ? (\r\n              comment.user._id === auth.user._id ? (\r\n                MenuItem()\r\n              ) : (\r\n                <div className=\"dropdown-item\" onClick={handleRemove}>\r\n                  <span className=\"material-icons\">delete_outline</span>\r\n                  Remove\r\n                </div>\r\n              )\r\n            ) : (\r\n              comment.user._id === auth.user._id && MenuItem()\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentMenu;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createComment } from '../../redux/actions/commentAction';\r\nimport Icons from '../Icons';\r\n\r\nconst InputComment = ({ children, post, onReply, setOnReply }) => {\r\n  const dispatch = useDispatch();\r\n  const { auth, socket, theme } = useSelector((state) => state);\r\n\r\n  const [content, setContent] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!content.trim()) {\r\n      if (setOnReply) {\r\n        return setOnReply(false);\r\n      }\r\n      return;\r\n    }\r\n    setContent('');\r\n    const newComment = {\r\n      content,\r\n      likes: [],\r\n      user: auth.user,\r\n      createAt: new Date().toISOString(),\r\n      //reply is original comment id\r\n      reply: onReply && onReply.commentId,\r\n      //tag is the user who commented the original comment\r\n      tag: onReply && onReply.user,\r\n    };\r\n    dispatch(createComment(post, newComment, auth, socket));\r\n\r\n    if (setOnReply) {\r\n      return setOnReply(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"card-footer comment_input\" onSubmit={handleSubmit}>\r\n      {children}\r\n      <input\r\n        style={{\r\n          filter: theme ? 'invert(1)' : 'invert(0)',\r\n          color: theme ? 'white' : '#111',\r\n          background: theme ? 'rgba(0,0,0,.03)' : '',\r\n          width: onReply ? '90%' : '',\r\n        }}\r\n        type=\"textbox\"\r\n        value={content}\r\n        placeholder=\"Add a comment...\"\r\n        onChange={(e) => setContent(e.target.value)}\r\n      />\r\n      <Icons content={content} setContent={setContent} />\r\n\r\n      <button type=\"submit\" className=\"postBtn\">\r\n        {onReply ? 'Reply' : 'Post'}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default InputComment;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Avatar from '../../Avatar';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport LikeButton from '../../LikeButton';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport CommentMenu from './CommentMenu';\r\nimport { updateComment, likeComment, unlikeComment } from '../../../redux/actions/commentAction';\r\nimport InputComment from '../InputComment';\r\n\r\nconst CommentCard = ({ children, comment, post, commentId }) => {\r\n  const dispatch = useDispatch();\r\n  const { auth, socket, theme } = useSelector((state) => state);\r\n\r\n  const [content, setContent] = useState('');\r\n  const [readMore, setReadmore] = useState(false);\r\n\r\n  //like and unlike comment\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [onEdit, setOnEdit] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n\r\n  //reply\r\n  const [onReply, setOnReply] = useState(false);\r\n\r\n  const handleLike = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(true);\r\n    setLoadLike(true);\r\n    await dispatch(likeComment({ comment, post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n  const handleUnLike = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(false);\r\n    setLoadLike(true);\r\n    await dispatch(unlikeComment({ comment, post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleUpdate = async (e) => {\r\n    if (comment.content !== content) {\r\n      await dispatch(updateComment({ comment, post, content, auth, socket }));\r\n      setOnEdit(false);\r\n    } else {\r\n      setOnEdit(false);\r\n      return;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setContent(comment.content);\r\n    setIsLike(false);\r\n    setOnReply(false);\r\n    if (comment.likes.find((like) => like._id === auth.user._id)) setIsLike(true);\r\n  }, [comment, auth.user._id]);\r\n\r\n  const handleReply = () => {\r\n    if (onReply) return setOnReply(false);\r\n    setOnReply({ ...comment, commentId });\r\n  };\r\n\r\n  const styleCard = {\r\n    opacity: comment._id ? 1 : 0.5,\r\n    pointerEvents: comment._id ? 'inherit' : 'none',\r\n  };\r\n\r\n  return (\r\n    <div className=\"comment_card mt-2\" style={styleCard}>\r\n      <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\r\n        <Avatar src={comment.user.avatar} size=\"small-avatar\" />\r\n        <h6 className=\"mx-1\">{comment.user.userName}</h6>\r\n      </Link>\r\n      <div className=\"comment_content\">\r\n        <div\r\n          className=\"flex-fill\"\r\n          style={{ filter: theme ? 'invert(1)' : 'invert(0)', color: theme ? 'white' : '#111' }}\r\n        >\r\n          {onEdit ? (\r\n            <textarea rows=\"5\" value={content} onChange={(e) => setContent(e.target.value)} />\r\n          ) : (\r\n            <div>\r\n              {comment.tag && comment.tag._id !== comment.user._id && (\r\n                <Link className=\"mr-1\" to={`/profile/${comment.tag._id}`}>\r\n                  @{comment.tag.userName}:\r\n                </Link>\r\n              )}\r\n              <span>\r\n                {content.length < 100\r\n                  ? content\r\n                  : readMore\r\n                  ? content + ' '\r\n                  : `${content.slice(0, 100)}...`}\r\n              </span>\r\n              {content.length < 100 ? null : (\r\n                <span className=\"readMore\" onClick={() => setReadmore(!readMore)}>\r\n                  {readMore ? 'Hide' : 'Read more'}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n          <div style={{ cursor: 'pointer' }}>\r\n            <small className=\"text-muted mr-3\">{moment(comment.createdAt).fromNow()}</small>\r\n            <small className=\"font-weight-bold mr-3 \">{comment.likes.length} likes</small>\r\n            {onEdit ? (\r\n              <>\r\n                <small className=\"font-weight-bold mr-3\" onClick={handleUpdate}>\r\n                  update\r\n                </small>\r\n                <small className=\"font-weight-bold mr-3\" onClick={() => setOnEdit(false)}>\r\n                  cancel\r\n                </small>\r\n              </>\r\n            ) : (\r\n              <small className=\"font-weight-bold mr-3\" onClick={handleReply}>\r\n                {onReply ? 'cancel' : 'reply'}\r\n              </small>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"d-flex align-items-center\" style={{ cursor: 'pointer' }}>\r\n          <CommentMenu post={post} comment={comment} auth={auth} setOnEdit={setOnEdit} />\r\n          <LikeButton isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike} />\r\n        </div>\r\n      </div>\r\n      {onReply && (\r\n        <InputComment post={post} onReply={onReply} setOnReply={setOnReply}>\r\n          <Link className=\"mr-1\" to={`/profile/${onReply.user._id}`}>\r\n            @{onReply.user.fullName}:\r\n          </Link>\r\n        </InputComment>\r\n      )}\r\n      <div>{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport CommentCard from './CommentCard';\r\n\r\nconst CommentDisplay = ({ comment, post, replyCm }) => {\r\n  const [showRep, setShowRep] = useState([]);\r\n  const [next, setNext] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setShowRep(replyCm.slice(replyCm.length - next));\r\n  }, [replyCm, next]);\r\n\r\n  return (\r\n    <div className=\"comment_display\">\r\n      {/* commentId acting like a root comment */}\r\n      <CommentCard comment={comment} post={post} commentId={comment._id}>\r\n        <div className=\"pl-4\">\r\n          {showRep.map(\r\n            (item, index) =>\r\n              item.reply && (\r\n                <CommentCard key={index} post={post} comment={item} commentId={comment._id} />\r\n              )\r\n          )}\r\n          {replyCm.length - next > 0 ? (\r\n            <div\r\n              style={{\r\n                cursor: 'pointer',\r\n              }}\r\n              onClick={() => setNext(next + 10)}\r\n            >\r\n              See more replies...\r\n            </div>\r\n          ) : (\r\n            showRep.length > 1 && (\r\n              <div\r\n                style={{ cursor: 'pointer', color: '#0DCAF0', fontWeight: '400' }}\r\n                onClick={() => setNext(1)}\r\n              >\r\n                Hide replies.\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      </CommentCard>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentDisplay;\r\n","import React, { useState, useEffect } from 'react';\r\nimport CommentDisplay from './comments/CommentDisplay';\r\n\r\nconst Comments = ({ post }) => {\r\n  const [comments, setComments] = useState([]);\r\n  const [showComments, setShowComments] = useState([]);\r\n\r\n  const [replyComments, setReplyComments] = useState([]);\r\n\r\n  const [next, setNext] = useState(2);\r\n\r\n  useEffect(() => {\r\n    //get 2 latest comments with no reply\r\n    const newComments = post.comments.filter((cm) => !cm.reply);\r\n    setComments(newComments);\r\n    setShowComments(newComments.slice(newComments.length - next));\r\n  }, [post.comments, next]);\r\n\r\n  useEffect(() => {\r\n    const newRep = post.comments.filter((cm) => cm.reply);\r\n    setReplyComments(newRep);\r\n  }, [post.comments]);\r\n\r\n  return (\r\n    <div className=\"comments\">\r\n      {showComments.map((comment) => {\r\n        return (\r\n          <CommentDisplay\r\n            comment={comment}\r\n            key={comment._id}\r\n            post={post}\r\n            //filter\r\n            replyCm={replyComments.filter((item) => item.reply === comment._id)}\r\n          />\r\n        );\r\n      })}\r\n      {comments.length - next > 0 ? (\r\n        <div\r\n          className=\"p-2 border-top\"\r\n          style={{ cursor: 'pointer', color: '#0DCAF0', fontWeight: '400' }}\r\n          onClick={() => setNext(next + 10)}\r\n        >\r\n          See more comments...\r\n        </div>\r\n      ) : (\r\n        comments.length > 2 && (\r\n          <div\r\n            className=\"p-2 border-top\"\r\n            style={{ cursor: 'pointer', color: '#0DCAF0', fontWeight: '400' }}\r\n            onClick={() => setNext(2)}\r\n          >\r\n            Hide comments.\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","import React from 'react';\r\nimport CardHeader from './home/post_card/CardHeader';\r\nimport CardBody from './home/post_card/CardBody';\r\nimport CardFooter from './home/post_card/CardFooter';\r\nimport Comments from './home/Comments';\r\nimport InputComment from './home/InputComment';\r\n\r\nconst PostCard = ({ post, theme }) => {\r\n  return (\r\n    <div key={post._id} className=\"card my-3\" style={{ zIndex: 0 }}>\r\n      <CardHeader post={post} />\r\n      <CardBody post={post} theme={theme} />\r\n      <CardFooter post={post} />\r\n\r\n      <Comments post={post} />\r\n      <InputComment post={post} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n","import { getDataAPI, postDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData';\r\nimport { GLOBALTYPES } from './globalTypes';\r\nimport { imageUpload } from '../../utils/imageUpload';\r\nimport { createNotify, removeNotify } from './notifyAction';\r\n\r\nexport const POST_TYPES = {\r\n  CREATE_POST: 'CREATE_POST',\r\n  LOADING_POSTS: 'LOADING_POSTS',\r\n  GET_POSTS: 'GET_POSTS',\r\n  UPDATE_POST: 'UPDATE_POST',\r\n  GET_POST: 'GET_POST',\r\n  DELETE_POST: 'DELETE_POST',\r\n};\r\n\r\nexport const createPost =\r\n  ({ content, images, auth, socket }) =>\r\n  async (dispatch) => {\r\n    let media = [];\r\n    try {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n      if (images.length > 0) {\r\n        media = await imageUpload(images);\r\n      }\r\n      const res = await postDataAPI('posts', { content, images: media }, auth.token);\r\n\r\n      dispatch({ type: POST_TYPES.CREATE_POST, payload: { ...res.data.newPost, user: auth.user } });\r\n\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false } });\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: res.data.newPost._id,\r\n        text: 'added a new post.',\r\n        recipients: res.data.newPost.user.followers,\r\n        url: `/post/${res.data.newPost._id}`,\r\n        content,\r\n        image: media[0].url,\r\n      };\r\n\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\nexport const getPosts = (token) => async (dispatch) => {\r\n  dispatch({ type: POST_TYPES.LOADING_POSTS, payload: true });\r\n\r\n  const res = await getDataAPI('posts', token);\r\n\r\n  dispatch({ type: POST_TYPES.GET_POSTS, payload: { ...res.data, page: 2 } });\r\n\r\n  dispatch({ type: POST_TYPES.LOADING_POSTS, payload: false });\r\n  try {\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n  }\r\n};\r\nexport const updatePost =\r\n  ({ content, images, auth, status }) =>\r\n  async (dispatch) => {\r\n    let media = [];\r\n    // only old images have url (when process thru cloudinary)\r\n    //new images are files\r\n    const imgNewUrl = images.filter((img) => !img.url);\r\n    const imgOldUrl = images.filter((img) => img.url);\r\n\r\n    if (\r\n      status.content === content &&\r\n      imgNewUrl.length === 0 &&\r\n      imgOldUrl.length === status.images.length\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n      if (imgNewUrl.length > 0) {\r\n        media = await imageUpload(imgNewUrl);\r\n      }\r\n      const res = await patchDataAPI(\r\n        `post/${status._id}`,\r\n        { content, images: [...imgOldUrl, ...media] },\r\n        auth.token\r\n      );\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost });\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\nexport const likePost =\r\n  ({ post, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const newPost = { ...post, likes: [...post.likes, auth.user] };\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    //emit socket\r\n    socket.emit('likePost', newPost);\r\n    try {\r\n      await patchDataAPI(`post/${post._id}/like`, null, auth.token);\r\n      // Notify\r\n      const msg = {\r\n        id: auth.user._id,\r\n        text: `love your post!`,\r\n        recipients: [post.user._id],\r\n        url: `/post/${post._id}`,\r\n        content: post.content,\r\n        image: post.images[0].url,\r\n      };\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\nexport const unlikePost =\r\n  ({ post, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const newPost = { ...post, likes: post.likes.filter((like) => like._id !== auth.user._id) };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    socket.emit('unlikePost', newPost);\r\n    try {\r\n      await patchDataAPI(`post/${post._id}/unlike`, null, auth.token);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: auth.user._id,\r\n        text: `unlike post`,\r\n        recipients: [post.user._id],\r\n        url: `/post/${post._id}`,\r\n      };\r\n\r\n      dispatch(removeNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const getPost =\r\n  ({ detailPost, id, auth }) =>\r\n  async (dispatch) => {\r\n    if (detailPost.every((post) => post._id !== id)) {\r\n      try {\r\n        const res = await getDataAPI(`post/${id}`, auth.token);\r\n        dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post });\r\n      } catch (err) {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n      }\r\n    }\r\n  };\r\n\r\nexport const deletePost =\r\n  ({ post, auth, socket }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: POST_TYPES.DELETE_POST, payload: post });\r\n    try {\r\n      const res = await deleteDataAPI(`post/${post._id}`, auth.token);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: post._id,\r\n        text: 'added a new post.',\r\n        recipients: res.data.newPost.user.followers,\r\n        url: `/post/${post._id}`,\r\n      };\r\n\r\n      dispatch(removeNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const savePost =\r\n  ({ post, auth }) =>\r\n  async (dispatch) => {\r\n    const newUser = { ...auth.user, saved: [...auth.user.saved, post._id] };\r\n\r\n    dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n\r\n    try {\r\n      await patchDataAPI(`savePost/${post._id}`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n\r\nexport const unsavePost =\r\n  ({ post, auth }) =>\r\n  async (dispatch) => {\r\n    const newUser = { ...auth.user, saved: auth.user.saved.filter((id) => id !== post._id) };\r\n\r\n    dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n\r\n    try {\r\n      await patchDataAPI(`unsavePost/${post._id}`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg } });\r\n    }\r\n  };\r\n"],"sourceRoot":""}